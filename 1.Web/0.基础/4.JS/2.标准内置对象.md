## JavaScript 标准内置对象、以及它们它们的方法和属性
- 这里的 标准内置对象 不应与 全局对象(Global Object) 混淆
- 全局对象的属性 = 标准内置对象 + 用户脚本创建的 + 宿主程序提供的
  - 浏览器中: window / self / frames 是全局对象
  - Node.js 中: global 是全局对象
  - Web Workers 中: self 是全局变量
  - 在松散模式下，可以在函数中返回 this 来获取全局变量，但严格模式下和模块环境下，this 会返回 undefined
  - globalThis 提供了一个标准的方式来获取不同环境下的全局 this 对象（也就是全局对象自身）

## 标准内置对象分类
> https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/NaN

### 值
1. Infinity 一个数值，表示无穷大
  ```js
  console.log(Infinity); /* Infinity */
  console.log(Infinity + 1); /* Infinity */
  console.log(Infinity + 1 === Infinity); /* true */
  console.log(Math.pow(10, 1000)); /* Infinity */
  console.log(Math.log(0)); /* -Infinity */
  console.log(1 / Infinity); /* 0 */
  if (! isFinite(x)) {}
  isFinite(null); // true
  Number.isFinite(null); // false 可靠检测
  ```
2. NaN
  - NaN 不等于自身
  ```js
  console.log(NaN === NaN); // false
  console.log(Number.NaN === NaN); // false
  console.log(isNaN(NaN)); // true
  console.log(isNaN(Number.NaN)); // true
  ```
  - isNaN()：如果当前值是 NaN 或将其强制转化成数字后是 NaN，则返回 true
  - Number.isNaN()：如果当前值是 NaN，则返回 true
  ```js
  isNaN('hello'); // true
  Number.isNaN('hello'); // false 可靠检测
  ```
3. undefined
  - 判断一个属性是否定义,不会抛出未声明的错误
  ```js
  console.log(typeof obj.p1 === 'undefined');
  console.log(p1 in obj);
  ```
4. globalThis 标准方式获取全局对象

### 函数
1. eval
  - 第三方代码可以看到 eval() 被调用时的作用域，可能导致不同方式的攻击
  ```js
  // 慢，浏览器需要全局查询 Date 变量
  // 立刻执行
  eval('console.log(Date.now())');
  // 只需查询全局和函数体内的变量
  // 返回的是函数,调用后才开始执行
  (Function('console.log(Date.now())'))();
  ```
2. isFinite 是否为有限数值
  ```js
  isFinite(Infinity); // false
  isFinite(NaN); // false
  isFinite(2e64); // true
  // 会自动转化
  isFinite(null); // true
  Number.isFinite(null); // false 可靠检测
  ```
3. isNaN 是否为 NaN
  - 怪异行为：如果 isNaN 函数的参数不是 Number 类型，isNaN 函数会首先尝试将这个参数转换为数值，再判断
  ```js
  isNaN('hello'); // true
  Number.isNaN('hello'); // false 可靠检测
  // isNaN 的polyfill 可理解为
  var isNaN = function (value) {
    var n = Number(value);
    return n !== n;
  }
  // 怪异行为的利用
  function add(x) {
    if (isNaN(x)) x = 0;
    return x + 1;
  }
  function add(x) {
    if (Number.isNaN(Number(x))) x = 0;
    return x + 1;
  }
  ```
4. parseFloat 解析成浮点数
5. parseInt 解析成整数,向下取整(floor)
  ```js
  parseInt('0xF'); // 15
  parseInt('F', 16); // 15
  parseInt('015', 10); // 10
  parseInt('435', 2); // NaN
  // 严格解析函数
  function filterInt (value) {
    return (/^(\-|\+)?([0-9]+|Infinity)$/.test(value)) ? Number(value) : NaN;
  }
  ```
6. decodeURI 包含无效字符序列，会引发 URIError 异常
7. decodeURIComponent 包含无效字符序列，会引发 URIError 异常
8. encodeURI
  - 不转义的字符 `[A-Za-z0-9-_.!~*'()]#;,/?:@&=+$`
  - 其余 UTF-8 转义
  ```js
  encodeURI('http://example.com/?s=王');
  // http://example.com/?s=%E7%8E%8B
  ```
9. encodeURIComponent
  - 不转义的字符 `[A-Za-z0-9-_.!~*'()]`
  - 其余 UTF-8 转义
  ```js
  encodeURIComponent('http://example.com/?s=王');
  // http%3A%2F%2Fexample.com%2F%3Fs%3D%E7%8E%8B
  ```

### 对象:基本
- Object
- Function
- Boolean
- Symbol

### 对象:错误
- Error
- AggregateError
- EvalError
- InternalError
- RangeError
- ReferenceError
- SyntaxError
- TypeError
- URIError

### 对象:数字和日期
- Number
- BigInt
- Math
- Date

### 对象:字符串
- String
- RegExp

### 对象:数组
- Array
- Int8Array
- Uint8Array
- Uint8ClampedArray
- Int16Array
- Uint16Array
- Int32Array
- Uint32Array
- Float32Array
- Float64Array
- BigInt64Array
- BigUint64Array

### 对象:集合
- Map
- Set
- WeakMap
- WeakSet

### 对象:结构化
- ArrayBuffer
- SharedArrayBuffer
- Atomics
- DataView
- JSON

### 对象:控制抽象
Promise
Generator
GeneratorFunction
AsyncFunction

### 对象:反射
Reflect
Proxy

### 对象:国际化
Intl
Intl.Collator
Intl.DateTimeFormat
Intl.ListFormat
Intl.NumberFormat
Intl.PluralRules
Intl.RelativeTimeFormat
Intl.Locale

### 对象:WebAssembly
WebAssembly
WebAssembly.Module
WebAssembly.Instance
WebAssembly.Memory
WebAssembly.Table
WebAssembly.CompileError
WebAssembly.LinkError (en-US)
WebAssembly.RuntimeError