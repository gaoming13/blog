### this指向:
- 在绝对多数情况下,函数的调用方式决定了 this 的值,this 不能在执行期间被赋值
- 全局环境中 => *全局对象*(browser:window,self,frames / nodejs:{} / web worker:self)
- 函数简单调用
  - 非严格模式 => *全局变量*
  - 严格模式 => *undefined*
- 对象中的方法 => *调用该函数的对象*
  - `var obj = {a: '123', obj1: { b: '345', f: function() { return this } }}` => `{b: '345', f}`
  - `function f() { return this }; var obj = {a: '123', f}; obj.f()` => `{a: '123', f}`
- 原型链中的方法 => *调用该函数的对象*
  - `var obj = {f: function() { return this; }}; var obj1 = Object.create(obj); obj1.a = '123'; obj1.f()` => `{a: '123'}`
- getter 与 setter方法 => *调用该函数的对象*
  - `var obj = {a: '123', b: {c: '456'}}; Object.defineProperty(obj.b, 'd', {get: function() { return this }}); obj.b.d` => `{c: '456'}`
- 构造函数,使用new => *正在构造的新对象*
  - `function C() { this.a = '123'; console.log(this); return {b: '456'}; }; new C()` => `C {a: "123"} {b: "456"}`
- dom事件处理函数 => *当前元素*
  - `$0.addEventListener('click', function() { console.log(this); })` => `当前元素`
  - `$0.addEventListener('click', function() { (function() { console.log(this); })(); })` => `window`
- 内联事件处理函数 => *当前元素*
  - `onclick="console.log(this);"` => `当前元素`
  - `onclick="(function() { console.log(this); })()"` => `window`
- 箭头函数 => *this与封闭词法环境的this保持一致,即被设置为创建他时的环境*
  - `(() => this)() === this` => `true`
  - `(() => this).call({a: 123}) === this` => `true`
  - `var obj = {f: function() { return () => this }}; (obj.f())() === obj` => `true`
  - `var obj = {f: function() { return () => this }}; var obj1 = {a: 123, f: obj.f}; (obj1.f())() === obj` => `false`
- apply/call/bind
  - 函数简单调用 => 有效
  - 箭头函数 => 无效