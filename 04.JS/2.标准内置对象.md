## JavaScript æ ‡å‡†å†…ç½®å¯¹è±¡ã€ä»¥åŠå®ƒä»¬å®ƒä»¬çš„æ–¹æ³•å’Œå±æ€§
- è¿™é‡Œçš„ æ ‡å‡†å†…ç½®å¯¹è±¡ ä¸åº”ä¸ å…¨å±€å¯¹è±¡(Global Object) æ··æ·†
- å…¨å±€å¯¹è±¡çš„å±æ€§ = æ ‡å‡†å†…ç½®å¯¹è±¡ + ç”¨æˆ·è„šæœ¬åˆ›å»ºçš„ + å®¿ä¸»ç¨‹åºæä¾›çš„
  - æµè§ˆå™¨ä¸­: window / self / frames æ˜¯å…¨å±€å¯¹è±¡
  - Node.js ä¸­: global æ˜¯å…¨å±€å¯¹è±¡
  - Web Workers ä¸­: self æ˜¯å…¨å±€å˜é‡
  - åœ¨æ¾æ•£æ¨¡å¼ä¸‹ï¼Œå¯ä»¥åœ¨å‡½æ•°ä¸­è¿”å› this æ¥è·å–å…¨å±€å˜é‡ï¼Œä½†ä¸¥æ ¼æ¨¡å¼ä¸‹å’Œæ¨¡å—ç¯å¢ƒä¸‹ï¼Œthis ä¼šè¿”å› undefined
  - globalThis æä¾›äº†ä¸€ä¸ªæ ‡å‡†çš„æ–¹å¼æ¥è·å–ä¸åŒç¯å¢ƒä¸‹çš„å…¨å±€ this å¯¹è±¡ï¼ˆä¹Ÿå°±æ˜¯å…¨å±€å¯¹è±¡è‡ªèº«ï¼‰

## æ ‡å‡†å†…ç½®å¯¹è±¡åˆ†ç±»
> https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/NaN
- Globalå¯¹è±¡çš„å‡½æ•°
  - eval
  - isFinite
  - isNaN
  - parseFloat
  - parseInt
  - decodeURI
  - decodeURIComponent
  - encodeURI
  - encodeURIComponent
- å¯¹è±¡:åŸºæœ¬
  - Object
  - Function
  - Boolean
  - Symbol
- å¯¹è±¡:é”™è¯¯
  - Error
  - AggregateError
  - EvalError
  - InternalError
  - RangeError
  - ReferenceError
  - SyntaxError
  - TypeError
  - URIError
- å¯¹è±¡:æ•°å­—å’Œæ—¥æœŸ
  - Number
  - BigInt
  - Math
  - Date
- å¯¹è±¡:å­—ç¬¦ä¸²
  - String
  - RegExp
- å¯¹è±¡:æ•°ç»„
  - Array
  - Int8Array
  - Uint8Array
  - Uint8ClampedArray
  - Int16Array
  - Uint16Array
  - Int32Array
  - Uint32Array
  - Float32Array
  - Float64Array
  - BigInt64Array
  - BigUint64Array
- å¯¹è±¡:é›†åˆ
  - Map
  - Set
  - WeakMap
  - WeakSet
- å¯¹è±¡:ç»“æ„åŒ–
  - ArrayBuffer
  - SharedArrayBuffer
  - Atomics
  - DataView
  - JSON
- å¯¹è±¡:æ§åˆ¶æŠ½è±¡
  - Promise
  - Generator
  - GeneratorFunction
  - AsyncFunction
- å¯¹è±¡:åå°„
  - Reflect
  - Proxy
- å¯¹è±¡:å›½é™…åŒ–
  - Intl
  - Intl.Collator
  - Intl.DateTimeFormat
  - Intl.ListFormat
  - Intl.NumberFormat
  - Intl.PluralRules
  - Intl.RelativeTimeFormat
  - Intl.Locale
- å¯¹è±¡:WebAssembly
  - WebAssembly
  - WebAssembly.Module
  - WebAssembly.Instance
  - WebAssembly.Memory
  - WebAssembly.Table
  - WebAssembly.CompileError
  - WebAssembly.LinkError (en-US)
  - WebAssembly.RuntimeError

### eval
- ç¬¬ä¸‰æ–¹ä»£ç å¯ä»¥çœ‹åˆ° eval() è¢«è°ƒç”¨æ—¶çš„ä½œç”¨åŸŸï¼Œå¯èƒ½å¯¼è‡´ä¸åŒæ–¹å¼çš„æ”»å‡»
```js
// æ…¢ï¼Œæµè§ˆå™¨éœ€è¦å…¨å±€æŸ¥è¯¢ Date å˜é‡
// ç«‹åˆ»æ‰§è¡Œ
eval('console.log(Date.now())');
// åªéœ€æŸ¥è¯¢å…¨å±€å’Œå‡½æ•°ä½“å†…çš„å˜é‡
// è¿”å›çš„æ˜¯å‡½æ•°,è°ƒç”¨åæ‰å¼€å§‹æ‰§è¡Œ
(Function('console.log(Date.now())'))();
```

### isFinite
- æ˜¯å¦ä¸ºæœ‰é™æ•°å€¼
```js
isFinite(Infinity); // false
isFinite(NaN); // false
isFinite(2e64); // true
// ä¼šè‡ªåŠ¨è½¬åŒ–
isFinite(null); // true
Number.isFinite(null); // false å¯é æ£€æµ‹
```

### isNaN
- æ˜¯å¦ä¸º NaN
- æ€ªå¼‚è¡Œä¸ºï¼šå¦‚æœ isNaN å‡½æ•°çš„å‚æ•°ä¸æ˜¯ Number ç±»å‹ï¼ŒisNaN å‡½æ•°ä¼šé¦–å…ˆå°è¯•å°†è¿™ä¸ªå‚æ•°è½¬æ¢ä¸ºæ•°å€¼ï¼Œå†åˆ¤æ–­
```js
isNaN('hello'); // true
Number.isNaN('hello'); // false å¯é æ£€æµ‹
// isNaN çš„polyfill å¯ç†è§£ä¸º
var isNaN = function (value) {
  var n = Number(value);
  return n !== n;
}
// æ€ªå¼‚è¡Œä¸ºçš„åˆ©ç”¨
function add(x) {
  if (isNaN(x)) x = 0;
  return x + 1;
}
function add(x) {
  if (Number.isNaN(Number(x))) x = 0;
  return x + 1;
}
```

### parseFloat
- è§£ææˆæµ®ç‚¹æ•°

### parseInt
- è§£ææˆæ•´æ•°,å‘ä¸‹å–æ•´(floor)
```js
parseInt('0xF'); // 15
parseInt('F', 16); // 15
parseInt('015', 10); // 10
parseInt('435', 2); // NaN
// ä¸¥æ ¼è§£æå‡½æ•°
function filterInt (value) {
  return (/^(\-|\+)?([0-9]+|Infinity)$/.test(value)) ? Number(value) : NaN;
}
// åˆ¤æ–­ä¸€ä¸ªå˜é‡æ˜¯å¦æ˜¯æ•´æ•°
x % 1 === 0 ? 'æ˜¯' : 'ä¸'
parseInt(x) === x ? 'æ˜¯' : 'ä¸'
```

### decodeURI
- åŒ…å«æ— æ•ˆå­—ç¬¦åºåˆ—ï¼Œä¼šå¼•å‘ URIError å¼‚å¸¸

### decodeURIComponent
- åŒ…å«æ— æ•ˆå­—ç¬¦åºåˆ—ï¼Œä¼šå¼•å‘ URIError å¼‚å¸¸

### encodeURI
- ä¸è½¬ä¹‰çš„å­—ç¬¦ `[A-Za-z0-9-_.!~*'()]#;,/?:@&=+$`
- å…¶ä½™ UTF-8 è½¬ä¹‰
```js
encodeURI('http://example.com/?s=ç‹');
// http://example.com/?s=%E7%8E%8B
```

### encodeURIComponent
- ä¸è½¬ä¹‰çš„å­—ç¬¦ `[A-Za-z0-9-_.!~*'()]`
- å…¶ä½™ UTF-8 è½¬ä¹‰
```js
encodeURIComponent('http://example.com/?s=ç‹');
// http%3A%2F%2Fexample.com%2F%3Fs%3D%E7%8E%8B
```

### Object
- æ„é€ å‡½æ•°ï¼šä¸ºç»™å®šå€¼åˆ›å»ºä¸€ä¸ªå¯¹è±¡åŒ…è£…å™¨
- ä»¥éæ„é€ å‡½æ•°å½¢å¼è°ƒç”¨æ—¶ï¼ŒObject çš„è¡Œä¸ºç­‰åŒäº new Object()
  ```js
  new Object(true); // ç­‰ä»·äº new Boolean(true);
  ```
- Object.defineProperty ç»™å¯¹è±¡æ·»åŠ ä¸€ä¸ªå±æ€§
- Object.defineProperties ç»™å¯¹è±¡æ·»åŠ å¤šä¸ªå±æ€§
- Object.getOwnPropertyDescriptor (è‡ªèº«å¯æšä¸¾ + è‡ªèº«ä¸å¯æšä¸¾)
- Object.getOwnPropertyDescriptors (è‡ªèº«å¯æšä¸¾ + è‡ªèº«ä¸å¯æšä¸¾)
  - ä½¿ç”¨ä¸€äº›å†…éƒ¨ç‰¹æ€§æ¥æè¿°å±æ€§çš„ç‰¹å¾,å¼€å‘è€…ä¸èƒ½ç›´æ¥è®¿é—®è¿™äº›ç‰¹æ€§
  - ä¸ºäº†å°†æŸä¸ªç‰¹æ€§æ ‡è¯†ä¸ºå†…éƒ¨ç‰¹æ€§,è§„èŒƒä¼šç”¨ä¸¤ä¸ªä¸­æ‹¬å·æŠŠç‰¹æ€§çš„åç§°æ‹¬èµ·æ¥,`[[Enumeralbel]]`
  - 1.æ•°æ®å±æ€§: åŒ…å«ä¸€ä¸ªä¿å­˜æ•°æ®å€¼,å€¼ä¼šä»è¿™ä¸ªä½ç½®è¯»å–,ä¹Ÿä¼šå†™å…¥è¿™ä¸ªä½ç½®.æœ‰4ä¸ªç‰¹æ€§æè¿°å®ƒçš„è¡Œä¸º
    - `[[Configurable]]` æ˜¯å¦å¯ deleteåˆ é™¤å¹¶é‡æ–°å®šä¹‰; ä¿®æ”¹å®ƒçš„ç‰¹æ€§; æ”¹ä¸ºæ•°æ®å±æ€§; é»˜è®¤ true / false(defineè®¾ç½®)
    - `[[Enumerable]]` æ˜¯å¦å¯ for-inå¾ªç¯è¿”å›. é»˜è®¤ true / false(defineè®¾ç½®)
    - `[[Writable]]` å±æ€§å€¼æ˜¯å¦å¯è¢«ä¿®æ”¹. é»˜è®¤ true / false(defineè®¾ç½®)
    - `[[Value]]` å±æ€§ç›´æ¥çš„å€¼. é»˜è®¤ undefined
  - 2.è®¿é—®å™¨å±æ€§: ä¸åŒ…å«æ•°æ®å€¼,åŒ…å«ä¸€ä¸ªè·å–(getter)å‡½æ•°å’Œè®¾ç½®(setter)å‡½æ•°.æœ‰4ä¸ªç‰¹æ€§æè¿°å®ƒçš„è¡Œä¸º
    - `[[Configurable]]` æ˜¯å¦å¯ deleteåˆ é™¤å¹¶é‡æ–°å®šä¹‰; ä¿®æ”¹å®ƒçš„ç‰¹æ€§; æ”¹ä¸ºæ•°æ®å±æ€§; é»˜è®¤ true / false(defineè®¾ç½®)
    - `[[Enumerable]]` æ˜¯å¦å¯ for-inå¾ªç¯è¿”å›. é»˜è®¤ true / false(defineè®¾ç½®)
    - `[[Get]]` è·å–å‡½æ•°,è¯»å–å±æ€§æ—¶è°ƒç”¨. é»˜è®¤ undefined
    - `[[Set]]` è®¾ç½®å‡½æ•°,å†™å…¥å±æ€§æ—¶è°ƒç”¨. é»˜è®¤ undefined
  ```js
  const obj = {a: 1};
  Object.defineProperties(obj, {
    // æ•°æ®å±æ€§
    b: {
      configurable: true,
      enumerable: true,
      writable: true,
      value: 2,
    },
    // è®¿é—®å™¨å±æ€§
    c: {
      configurable: false,
      enumerable: false,
      get: function() { return this.a * 2 },
      set: function(v) { this.a = v / 2 },
    },
  });
  Object.getOwnPropertyDescriptor(obj, 'c');
  Object.getOwnPropertyDescriptors(obj);
  ```
- Object.create æŒ‡å®šåŸå‹å¯¹è±¡å’Œå±æ€§åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡
  ```js
  const obj1 = {a: 1};
  const obj2 = Object.create(obj1, {b: { value: 2 }});
  // console.log(obj2);
  // b: 2
  // __proto__:
  //   a: 1
  //   __proto__:
  Object.getPrototypeOf(obj2) === obj1 // true

  // å®ç° Object.create
  Object.create1 = (o, properties = {}) => {
    const objNew = {};
    Object.setPrototypeOf(objNew, o); // objNew.__proto__ = obj;
    Object.defineProperties(objNew, properties);
    return objNew;
  };
  Object.create1({a: 1}, {b: {value: 2}});
  ```
- Object.assign é€šè¿‡å¤åˆ¶ä¸€ä¸ªæˆ–å¤šä¸ªå¯¹è±¡æ¥åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡
  - assignæ–¹æ³•æ¥æ”¶å¤šä¸ªæºå¯¹è±¡ä¸­ å¯æšä¸¾(obj1.b.propertyIsEnumerable() = true) && è‡ªæœ‰(obj1.hasOwnProperty('a') = true) çš„å±æ€§å¤åˆ¶åˆ°åˆ°ç›®æ ‡å¯¹è±¡
  - å¦‚æœèµ‹å€¼æœŸé—´å‡ºé”™,åˆ™æ“ä½œä¼šä¸­æ­¢å¹¶é€€å‡º,ä¸ä¼šå›æ»šä¹‹å‰çš„èµ‹å€¼
    ```js
    const obj1 = {
      set a(x) { console.log(x); } // 1
    };
    let obj2;
    try {
      obj2 = Object.assign(obj1, {a: 1}, {
        b: 2,
        get c() { throw new Error(); }
      });
    } catch (e) {
      console.log(e); // Error at Object.get c
      console.log('----');
      console.log(obj1); // {b: 2, set a: f}
      console.log('----');
      console.log(obj2); // undefined
    }
    ```
- Object.is æ¯”è¾ƒä¸¤ä¸ªå€¼æ˜¯å¦ç›¸åŒï¼Œæ‰€æœ‰NaNå€¼éƒ½ç›¸ç­‰(ä¸ == å’Œ === ä¸åŒ)
  - ä¸ºäº†æ”¹å–„ === æ“ä½œç¬¦åˆ¤æ–­çš„é—®é¢˜
  ```js
  +0 === -0; // true
  +0 === 0; // true
  -0 === 0; // true
  Object.is(+0, -0); // false
  Object.is(+0, 0); // true
  Object.is(-0, 0); // false
  NaN === NaN; // false
  Object.is(NaN, NaN); // true
  ```
- Object.entries (è‡ªèº«å¯æšä¸¾)
  - Object.fromEntries ç›¸åæ–¹æ³•
  ```js
  const obj = {a: 1, b: {c: 3}};
  const obj1 = Object.entries(obj);
  const obj2 = Object.fromEntries(obj1);
  JSON.stringify(obj) === JSON.stringify(obj2); // true
  ```
- Object.freeze å†»ç»“å¯¹è±¡ï¼Œå…¶å®ƒä»£ç ä¸èƒ½åˆ é™¤æˆ–æ›´æ”¹ä»»ä½•å±æ€§
- Object.getOwnPropertyNames (è‡ªèº«å¯æšä¸¾ + è‡ªèº«ä¸å¯æšä¸¾)
- Object.getOwnPropertySymbols (è‡ªèº«å¯æšä¸¾ + è‡ªèº«ä¸å¯æšä¸¾)
- Object.isExtensible åˆ¤æ–­å¯¹è±¡æ˜¯å¦å¯æ‰©å±•
- Object.isFrozen åˆ¤æ–­å¯¹è±¡æ˜¯å¦å·²ç»å†»ç»“
- Object.isSealed åˆ¤æ–­å¯¹è±¡æ˜¯å¦å·²ç»å¯†å°
- Object.keys (è‡ªèº«å¯æšä¸¾)(æ•°ç»„çš„keyä¼šå˜æˆå­—ç¬¦ä¸²)
- Object.preventExtensions é˜²æ­¢å¯¹è±¡çš„ä»»ä½•æ‰©å±•
- Object.seal é˜²æ­¢å…¶å®ƒä»£ç åˆ é™¤å¯¹è±¡çš„å±æ€§
- Object.values è¿”å›ä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…å«è‡ªèº«å¯æšä¸¾çš„å€¼
- Object.prototype.hasOwnProperty è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºå¯¹è±¡è‡ªèº«æ˜¯å¦å«æœ‰æŒ‡å®šå±æ€§
- Object.prototype.toString
- Object.prototype.valueOf è¿”å›æŒ‡å®šå¯¹è±¡çš„åŸå§‹å€¼
- åŸå‹ç›¸å…³
  - Object.getPrototypeOf è¿”å›æŒ‡å®šå¯¹è±¡çš„åŸå‹å¯¹è±¡
    ```js
    Object.getPrototypeOf([]) // [].__proto__
    Object.getPrototypeOf(Array) === Function.prototype // true
    ```
  - Object.setPrototypeOf è®¾ç½®å¯¹è±¡çš„åŸå‹
    ```js
    const obj1 = {a: 1};
    const obj2 = {b: 2};
    Object.setPrototypeOf(obj1, obj2);
    obj1.__proto__ === obj2; // true
    ```
  - Object.prototype.isPrototypeof è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºå¯¹è±¡æ˜¯å¦åœ¨åŸå‹é“¾ä¸­
    ```js
    Array.prototype.isPrototypeOf([]) // [].__proto__ -> Array.prototype
    ```
- å¢å¼ºçš„å¯¹è±¡è¯­æ³• - ç®€å†™æ–¹æ³•å
  ```js
  let key1 = 'key1';
  let obj = {
    // å‡½æ•°è¡¨è¾¾å¼å‘½å
    f1: function() {},
    key1: function() {},
    // æ–°çš„ç®€å†™è¯­æ³•
    f2() {},
    [key1]() {},
    // è·å–å‡½æ•°ä¸è®¾ç½®å‡½æ•°
    _name: 'ç‹äºŒ',
    get name() {return this._name;},
    set name(name) { this._name = name; },
  };
  ```
- å¯¹è±¡è§£æ„ - ä½¿ç”¨ä¸å¯¹è±¡åŒ¹é…çš„ç»“æ„æ¥å®ç°å¯¹è±¡å±æ€§èµ‹å€¼
  - è§£æ„èµ‹å€¼ä¸ä¸€å®šä¸å¯¹è±¡çš„å±æ€§åŒ¹é…
  - æƒ³è®©å˜é‡ç›´æ¥ä½¿ç”¨å±æ€§çš„åç§°,å¯ä»¥ä½¿ç”¨ç®€å†™è¯­æ³•
  - å¯ä»¥åœ¨è§£æ„èµ‹å€¼çš„åŒæ—¶å®šä¹‰é»˜è®¤å€¼
  - è§£æ„èµ‹å€¼å¯ä½¿ç”¨åµŒå¥—ç»“æ„,ä»¥åŒ¹é…åµŒå¥—çš„å±æ€§
  ```js
  let obj = {a: 1, b: 2, c: 3, g: {h: 123}};
  let {a: a1, b, d = 4, g: { h: h1 }} = obj;
  console.log({a1, b, d, h1});
  // å‚æ•°ä¸Šä¸‹æ–‡åŒ¹é…
  function f1(t1, {a: a1, b, d = 4, g: { h: h1 }} = {}) {
    console.log({a1, b, d, h1});
  }
  f1(1);
  ```
- éå†å±æ€§ - å‚è§ï¼šimg/éå†å±æ€§å‡½æ•°
- åˆ¤æ–­å±æ€§æ˜¯å¦å­˜åœ¨
  1. obj.hasOwnProperty (è‡ªèº«)
  2. 'a' in obj (åªè¦èƒ½è®¿é—®åˆ°)
- åˆ é™¤å±æ€§
  1. delete obj.a

### Function

### Boolean

### Symbol

### Error
```js
function f1() {
  try {
    throw new TypeError('è¿™æ˜¯é”™è¯¯çš„å†…å®¹äº†');
    return 1;
  } catch (e) {
    console.log(e instanceof TypeError);
    console.log(e.message);
    return 2;
  } finally {
    console.log('ok');
    return 3;
  }
}
f1(); // 3
```
- é”™è¯¯ç±»å‹
  - InternalError åº•å±‚JSå¼•æ“æŠ›å‡ºå¼‚å¸¸æ—¶ç”±æµè§ˆå™¨æŠ›å‡º(ä¾‹:é€’å½’è¿‡å¤šå¯¼è‡´æ ˆæº¢å‡º)
  - EvalError ä½¿ç”¨evalå‡½æ•°å‘ç”Ÿå¼‚å¸¸æ—¶æŠ›å‡º,åŸºæœ¬ä¸Š,åªè¦ä¸æŠŠevalå½“æˆå‡½æ•°è°ƒç”¨å°±ä¼šæŠ¥å‘Šè¯¥é”™è¯¯
  - SyntaxError è¯­æ³•é”™è¯¯ ğŸ”¥
    - `function = 3` // Uncaught SyntaxError: Unexpected token '='
  - RangeError èŒƒå›´é”™è¯¯ ğŸ”¥ æ•°å€¼è¶Šç•Œæ—¶æŠ›å‡º(ä¾‹:å®šä¹‰æ•°ç»„æ—¶è®¾ç½®äº†ä¸æ”¯æŒçš„é•¿åº¦,-20æˆ–Number.MAX_VALUE)
    - `function f1() { f1(); } f1();` // Uncaught RangeError: Maximum call stack size exceeded
  - ReferenceError æ‰¾ä¸åˆ°å¯¹è±¡æ—¶å‘ç”Ÿ ğŸ”¥
    - `a['a'] = 12;` // Uncaught ReferenceError: a is not defined
  - TypeError ç±»å‹é”™è¯¯ ğŸ”¥ å˜é‡ä¸æ˜¯é¢„æœŸçš„ç±»å‹æˆ–è®¿é—®ä¸å­˜åœ¨çš„æ–¹æ³•
    - `let a = {}; a.run();` // Uncaught TypeError: a.run is not a function
  - URIError ä½¿ç”¨ encodeURI() æˆ– decodeURI() ä¼ å…¥äº†æ ¼å¼é”™è¯¯çš„URIæ—¶å‘ç”Ÿ
- æŠ›å‡ºé”™è¯¯
  - throw æ“ä½œç¬¦,ç”¨äºåœ¨ä»»ä½•æ—¶å€™æŠ›å‡ºè‡ªå®šä¹‰é”™è¯¯,å¿…é¡»æœ‰ä¸€ä¸ªå€¼,ä½†å€¼çš„ç±»å‹ä¸é™
    - throw 123; throw 'hello'; throw true; throw {name: 'GO'};
    - ä½¿ç”¨throwæ“ä½œç¬¦æ—¶,ä»£ç ç«‹å³åœæ­¢æ‰§è¡Œ
  - å¯ä»¥é€šè¿‡å†…ç½®çš„é”™è¯¯ç±»å‹æ¥æ¨¡æ‹Ÿæµè§ˆå™¨é”™è¯¯
    - throw new Error('Bad');
    - throw new URIError('Bad');
- è‡ªå®šä¹‰çš„é”™è¯¯ç±»å‹
  - å¯ä»¥é€šè¿‡ç»§æ‰¿ Error å¯ä»¥åˆ›å»ºè‡ªå®šä¹‰çš„é”™è¯¯ç±»å‹
- erroräº‹ä»¶
  - ä»»ä½•æ²¡æœ‰è¢« try/catch è¯­å¥æ•è·çš„é”™è¯¯éƒ½ä¼šåœ¨windowå¯¹è±¡ä¸Šè§¦å‘erroräº‹ä»¶
  ```js
  window.onerror = (message, url, line) => {
    console.log({ message, url, line});
  };
  window.addEventListener('error', function({ message, filename: url, lineno: line}) {
    console.log({ message, url, line});
  });
  throw new Error('è¿™æ˜¯é”™è¯¯äº†');
  ```
- é™æ€ä»£ç åˆ†æå™¨
  - é€šè¿‡åœ¨æ„å»ºæµç¨‹ä¸­æ·»åŠ é™æ€ä»£ç åˆ†ææˆ–ä»£ç æ£€æŸ¥å™¨(linter),å¯ä»¥é¢„å…ˆå‘ç°éå¸¸å¤šé”™è¯¯
  - å¸¸è§çš„é™æ€åˆ†æå·¥å…·æ˜¯ JSHintã€JSLintã€Google Closureã€TypeScript
- ä½¿ç”¨ debugger å…³é”®å­—
  - åœ¨è¿è¡Œç¢°åˆ°è¿™ä¸ªå…³é”®å­—æ—¶,æ‰€æœ‰ä¸»æµæµè§ˆå™¨éƒ½ä¼šæ‰“å¼€å¼€å‘è€…æ§åˆ¶é¢æ¿,å¹¶æ˜¾ç¤ºæ–­ç‚¹

### Number
- n.toString(è¿›åˆ¶)
- n.toFixed(å°æ•°ä½) å››èˆäº”å…¥
- n.toExponential(å°æ•°ä½) ç§‘å­¦è®¡æ•°å½¢å¼
- Number.isInteger(12.00) // true

### BigInt

### Mathå¯¹è±¡
- Math.E è‡ªç„¶å¯¹æ•°çš„åŸºæ•°eçš„å€¼
- Math.LN2 2ä¸ºåº•çš„è‡ªç„¶å¯¹æ•°
- Math.LN10 10ä¸ºåº•çš„è‡ªç„¶å¯¹æ•°
- Math.LOG2E ä»¥2ä¸ºåº•eçš„å¯¹æ•°
- Math.LOG10E ä»¥10ä¸ºåº•eçš„å¯¹æ•°
- Math.PI Ï€çš„å€¼
- Math.SQRT1_2 1/2çš„å¹³æ–¹æ ¹
- Math.SQRT2: 2çš„å¹³æ–¹æ ¹
- Math.max
- Math.min
- Math.floor å‘ä¸‹å–æ•´
- Math.ceil å‘ä¸Šå–æ•´
- Math.round å››èˆäº”å…¥
- Math.fround æœ€æ¥è¿‘çš„å•ç²¾åº¦(32ä½)æµ®ç‚¹å€¼è¡¨ç¤º
- Math.random
- Math.abs
- Math.exp(x) Math.Eçš„xæ¬¡å¹‚
- Math.log(x) xçš„è‡ªç„¶å¯¹æ•°
- Math.pow(x, power) xçš„poweræ¬¡å¹‚

### Date
- `Date.parse('2021-04-09T00:00:00.888')` è¿”å›æ—¶é—´æˆ³: 2021-04-09 00:00:00`
- `Date.UTC(2021, 3, 9, 0, 0, 0, 888)` è¿”å›æ—¶é—´æˆ³: 2021-04-09 08:00:00
- `Date.now()` è¿”å›å½“å‰æ—¶é—´æˆ³
- `const d1 = new Date(2021, 3, 9, 0, 0, 0, 888)` 2021-04-09 00:00:00
  - `new Date('2021-07-07 13:50:07')`
  - `new Date(1625637007000)`
- `Date.prototype.toString()` è¿”å›æ—¥æœŸçš„å­—ç¬¦ä¸²è¡¨ç¤º
  - `Date.prototype.valueOf()` è¿”å›æ—¥æœŸçš„æ—¶é—´æˆ³
  - `Date.prototype.getTime()` è¿”å›æ—¥æœŸçš„æ—¶é—´æˆ³
- `Date.prototype.toISOString()` è¿”å› 2021-04-09T07:02:39.355Z
- `Date.prototype.getTimezoneOffset()` åˆ†é’Ÿè®¡çš„UTCä¸æœ¬åœ°æ—¶é—´çš„åç§»é‡ -480

### String
- `s.length` å±æ€§
- `String.fromCharCode(int)` ES5æä¾› String.fromCharCode() æ— æ³•æ­£ç¡®è¯†åˆ«ç ç‚¹å¤§äº 0xFFFF çš„å­—ç¬¦
- `String.fromCodePoint(int)` ES6çš„è¿™ä¸ªå¯ä»¥:Unicodeç ç‚¹->å¯¹åº”å­—ç¬¦
- `String.raw`\u00A9` è¿˜åŸæ¨¡ç‰ˆå­—ç¬¦ä¸²çš„å¤„ç†æ–¹æ³•
- `String.prototype.length` æŒ‰ç…§16ä½,2Bç¼–ç ,å¤§äº2B,é•¿åº¦2
- `String.prototype.charAt(index)` å­—ç¬¦ä¸²æŒ‡å®šç´¢å¼•(`0~length-1`)å¤„çš„å­—ç¬¦
- `String.prototype.charCodeAt(index)` å­—ç¬¦ä¸²æŒ‡å®šç´¢å¼•(`0~length-1`)å¤„çš„UTF-16ç¼–ç å•å…ƒä½“ç°çš„æ•°å­—ï¼ŒèŒƒå›´ `0~65536`ï¼Œ`0x0000~0xffff`
- `String.prototype.codePointAt(index)` å­—ç¬¦ä¸²æŒ‡å®šç´¢å¼•(`0~length-1`)å¤„çš„ç¼–ç å•å…ƒä½“ç°çš„æ•°å­—
- `String.prototype.indexOf(str)` `lastIndexOf(str)` æŒ‡å®šå­ä¸²å¼€å§‹/ç»“æŸçš„ä½ç½®
- `String.prototype.concat(str)` å­—ç¬¦ä¸²æ‹¼æ¥
- `String.prototype.split(str)` å­—ç¬¦ä¸²åˆ†å‰²æˆæ•°ç»„
- `String.prototype.slice(beginIndex, endIndex)` è¿”å›å­—ç¬¦ä¸²åˆ‡å‰²çš„ä¸€éƒ¨åˆ†(æ”¯æŒè´Ÿå€¼)
- `String.prototype.substring(indexStart, indexEnd)`
- `String.prototype.substr(indexStart, length)`
- `String.prototype.match` `replace` `search`
- `String.prototype.normalize(form)` æŒ‰ç…§æŒ‡å®šä¸€ç§ Unicode æ­£è§„å½¢å¼å°†å­—ç¬¦ä¸²æ­£è§„åŒ–
- `String.prototype.toUpperCase()` `toLowerCase()`
- `String.prototype.repeat(count)` é‡å¤æŒ‡å®šæ¬¡æ•°
- `String.prototype.trim()` å»é™¤å¼€å¤´ç»“å°¾çš„ç©ºç™½å­—ç¬¦
  - `String.prototype.trimStart()` å»é™¤å¼€å¤´çš„ç©ºç™½å­—ç¬¦
  - `String.prototype.trimEnd()` å»é™¤ç»“å°¾çš„ç©ºç™½å­—ç¬¦
- `String.prototype.popStart()` å¤´éƒ¨è¡¥å…¨ `'123'.padStart(8, 'abc') === 'abcab123'`
- `String.prototype.popEnd()` å°¾éƒ¨è¡¥å…¨
- `String.prototype.includes()` å­—ç¬¦ä¸²æœç´¢æ–¹æ³•, éƒ½æ”¯æŒç¬¬äºŒä¸ªå‚æ•°(å¼€å§‹æœç´¢çš„ä½ç½®)
- `String.prototype.startsWith()` å­—ç¬¦ä¸²æœç´¢æ–¹æ³•, éƒ½æ”¯æŒç¬¬äºŒä¸ªå‚æ•°(å¼€å§‹æœç´¢çš„ä½ç½®)
- `String.prototype.endsWith()` å­—ç¬¦ä¸²æœç´¢æ–¹æ³•, éƒ½æ”¯æŒç¬¬äºŒä¸ªå‚æ•°(å¼€å§‹æœç´¢çš„ä½ç½®)
- æ–°å¢äº†å‡ ä¸ªä¸“é—¨å¤„ç†4å­—èŠ‚ç ç‚¹çš„å‡½æ•°
  - `String.fromCodePoint()` Unicodeç ç‚¹->å¯¹åº”å­—ç¬¦
  - `String.prototype.codePointAt()` å­—ç¬¦->å¯¹åº”çš„ç ç‚¹

### RegExp
- é€šè¿‡ RegExp ç±»å‹æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼, ä½¿ç”¨ç±»ä¼¼ Perl çš„ç®€æ´è¯­æ³•æ¥åˆ›å»º
  - `let r1 = /^.$/u;` */pattern/flags*
  - `let r1 = new RegExp('.', 'u');`
  - pattern(æ¨¡å¼)å¯ä»¥æ˜¯ä»»ä½•ç®€å•æˆ–å¤æ‚çš„æ­£åˆ™è¡¨è¾¾å¼
  - å¯ä»¥æºå¸¦0ä¸ªæˆ–å¤šä¸ª flags(æ ‡è®°),ç”¨äºæ§åˆ¶æ­£åˆ™è¡¨è¾¾å¼çš„è¡Œä¸º
  - å®ä¾‹:
    ```js
    let s = '<a href="https://www.baidu.com/">ç‹çƒ­ç ‚</a>';
    console.log(s.match(/<a href="[^"]*">([^<]*)<\/a>/));
    ```
- åŒ¹é…æ¨¡å¼çš„flags(æ ‡è®°)
  - g:å…¨å±€æ¨¡å¼ - è¡¨ç¤ºæŸ¥æ‰¾å­—ç¬¦ä¸²çš„å…¨éƒ¨å†…å®¹,è€Œä¸æ˜¯æ‰¾åˆ°ç¬¬ä¸€ä¸ªåŒ¹é…çš„å†…å®¹å°±ç»“æŸ
  - i:ä¸åŒºåˆ†å¤§å°å†™ - è¡¨ç¤ºåœ¨è¶…æ‰¾åŒ¹é…æ—¶å¿½ç•¥ pattern å’Œ å­—ç¬¦ä¸² çš„å¤§å°å†™
  - m:å¤šè¡Œæ¨¡å¼ - è¡¨ç¤ºæŸ¥æ‰¾åˆ°ä¸€è¡Œæ–‡æœ¬æœ«å°¾æ—¶ä¼šç»§ç»­æŸ¥æ‰¾
  - y:ç²˜é™„æ¨¡å¼ - è¡¨ç¤ºåªæŸ¥æ‰¾ä» lastIndex å¼€å§‹åŠä¹‹åçš„å­—ç¬¦ä¸²
  - u:Unicodeæ¨¡å¼ - ç”¨æ¥å¤„ç†å¤§äº \uFFFF çš„Unicode å­—ç¬¦ `/\u{20BB7}/u.test('ğ ®·')`
  - s:dotAllæ¨¡å¼ - è¡¨ç¤ºå…ƒå­—ç¬¦.åŒ¹é…ä»»ä½•å­—ç¬¦(åŒ…æ‹¬\næˆ–\r)
- RegExpå®ä¾‹å±æ€§
  - r.global å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦è®¾ç½®äº† g æ ‡è®°
  - r.ignoreCase å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦è®¾ç½®äº† i æ ‡è®°
  - r.multiline å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦è®¾ç½®äº† m æ ‡è®°
  - r.sticky å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦è®¾ç½®äº† y æ ‡è®°
  - r.unicode å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦è®¾ç½®äº† u æ ‡è®°
  - r.dotAll å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦è®¾ç½®äº† s æ ‡è®°
  - r.lastIndex:æ•´æ•°ï¼Œè¡¨ç¤ºåœ¨æºå­—ç¬¦ä¸²ä¸­ä¸‹ä¸€æ¬¡æœç´¢çš„å¼€å§‹ä½ç½®ï¼Œå§‹ç»ˆä» 0 å¼€å§‹
  - r.source å®ä¾‹çš„pattern,æ²¡æœ‰å¼€å¤´å’Œç»“å°¾çš„æ–œæ 
  - r.flags å®ä¾‹çš„flags(æ ‡è®°)
- RegExpå®ä¾‹æ–¹æ³•
  - r.exec()
    ```js
    let s = 'Hello,red! Hello,blue!';
    // ä¸ç”¨gçš„è¯,indexå§‹ç»ˆæ˜¯0
    let r = /Hello,([a-z]*)!/g;
    let res = r.exec(s);
    // 0: "Hello,red!" 1: "red" groups: undefined index: 0 input: "Hello,red! Hello,blue!"
    res = r.exec(s);
    // 0: "Hello,blue!" 1: "blue" groups: undefined index: 11 input: "Hello,red! Hello,blue!" length: 2
    res = r.exec(s);
    // null
    ```
  - r.test() åˆ¤æ–­è¾“å…¥æ–‡æœ¬ä¸æ¨¡å¼æ˜¯å¦åŒ¹é…
- RegExpæ„é€ å‡½æ•°å±æ€§
  - è¿™äº›å±æ€§é€‚ç”¨äºä½œç”¨åŸŸä¸­çš„æ‰€æœ‰æ­£åˆ™è¡¨è¾¾å¼,ä¸”ä¼šæ ¹æ®æœ€åæ‰§è¡Œçš„æ­£åˆ™è¡¨è¾¾å¼æ“ä½œè€Œå˜åŒ–
  - å¯ä»¥é€šè¿‡2ç§ä¸åŒçš„æ–¹å¼è®¿é—®å®ƒä»¬
  - RegExp.input, RegExp.$_ æœ€åæœç´¢çš„å­—ç¬¦ä¸²(éæ ‡å‡†)
  - RegExp.lastMatch, RegExp.$& æœ€ååŒ¹é…çš„æ–‡æœ¬
  - RegExp.lastParen, RegExp.$+ æœ€ååŒ¹é…çš„æ•è·ç»„(éæ ‡å‡†)
  - RegExp.leftContext, RegExp.$` inputå­—ç¬¦ä¸²ä¸­å‡ºç°åœ¨ lastMatch å‰é¢çš„æ–‡æœ¬
  - RegExp.rightContext, RegExp.$' inputå­—ç¬¦ä¸²ä¸­å‡ºç°åœ¨ lastMatch åé¢çš„æ–‡æœ¬
  ```js
  /(.hort)/g.test('a short summer');
  console.log([
    RegExp.input, RegExp.$_, // "a short summer"
    RegExp.lastMatch, RegExp['$&'], // "short"
    RegExp.lastParen, RegExp['$+'], // "short"
    RegExp.leftContext, RegExp['$`'], // "a "
    RegExp.rightContext, RegExp['$\''], // " summer"
  ]);
  ```
- å­—ç¬¦ä¸²çš„æ­£åˆ™æ–¹æ³•(matchã€replaceã€searchã€split)
  - ES6å°†è¿™å››ä¸ªæ–¹æ³•,åœ¨è¯­è¨€å†…å…¨éƒ¨è°ƒç”¨ RegExp çš„å®ä¾‹æ–¹æ³•,åšåˆ°ä¸æ­£åˆ™ç›¸å…³çš„æ–¹æ³•,éƒ½å®šä¹‰åœ¨RegExpå¯¹è±¡ä¸Š
  - String.prototype.math è°ƒç”¨ RegExp.prototype[Symbol.match]
  - String.prototype.replace è°ƒç”¨ RegExp.prototype[Symbol.replace]
  - String.prototype.search è°ƒç”¨ RegExp.prototype[Symbol.search]
  - String.prototype.split è°ƒç”¨ RegExp.prototype[Symbol.split]
  ```js
  'abc'.replace({
    [Symbol.replace](searchVal, replaceVal) {
      return searchVal.replace('ab', replaceVal);
    }
  }, 'k'); // kc
  ```
- å‘½åæ•è·ç»„
  ```js
  /(\d+)-(\d+)-(\d+)/.exec('2019-03-23');
  /(?<year>\d+)-(?<month>\d+)-(?<day>\d+)/.exec('2019-03-23');
  ```
- åŒ¹é…å­—ç¬¦
  - `\`
    - 1.`\ç‰¹æ®Šå­—ç¬¦` è¡¨ç¤ºè½¬ä¹‰,ä¸‹ä¸€ä¸ªå­—ç¬¦åº”è¯¥æŒ‰å­—é¢ç†è§£;
      - `string.replace(/[.*+?^${}()|[\]\\]/g, "\\$&")` // $&è¡¨ç¤ºæ•´ä¸ªè¢«åŒ¹é…çš„å­—ç¬¦ä¸²
    - 2.`\éç‰¹æ®Šå­—ç¬¦` ä¸èƒ½æŒ‰å­—é¢ç†è§£
  - `^` åŒ¹é…è¾“å…¥çš„å¼€å§‹ä½ç½®.
    - å¦‚æœå¤šè¡Œæ ‡å¿—è¢«è®¾ç½®ä¸º true, é‚£ä¹ˆä¹ŸåŒ¹é…æ¢è¡Œç¬¦åç´§è·Ÿçš„ä½ç½® Demo `/^abc/`
  - `$` åŒ¹é…è¾“å…¥çš„ç»“æŸä½ç½®.
    - å¦‚æœå¤šè¡Œæ ‡å¿—è¢«è®¾ç½®ä¸º true, é‚£ä¹ˆä¹ŸåŒ¹é…æ¢è¡Œç¬¦å‰çš„ä½ç½® Demo `/abc$/`
  - `*` åŒ¹é…å‰ä¸€ä¸ªè¡¨è¾¾å¼0ï½næ¬¡. ç­‰ä»·äº `{0,}` Demo `/ab*c/`
  - `+` åŒ¹é…å‰ä¸€ä¸ªè¡¨è¾¾å¼1ï½næ¬¡. ç­‰ä»·äº `{1,}` Demo: `/(ab)+c/.test('ababc')`
  - `?` åŒ¹é…å‰ä¸€ä¸ªè¡¨è¾¾å¼0æˆ–1æ¬¡. ç­‰ä»·äº `{0,1}` Demo: `/(ab)?c/.test('abc')`
    - è‹¥ç´§è·Ÿåœ¨ä»»ä½•é‡è¯ `*ã€+ã€?ã€{}` åé¢ï¼Œå°†ä¼šä½¿é‡è¯å˜ä¸ºéè´ªå©ª(åŒ¹é…å°½é‡å°‘çš„å­—ç¬¦), å’Œç¼ºçœä½¿ç”¨çš„è´ªå©ªæ¨¡å¼ç›¸å
  - `.` åŒ¹é…é™¤æ¢è¡Œç¬¦(æ¯”å¦‚:`\n` `\r` éBMPå­—ç¬¦)ä¹‹å¤–çš„ä»»ä½•å•ä¸ªå­—ç¬¦ä¸²
    - å¦‚æœ `s(dotAll)` æ ‡å¿—ä½è¢«è®¾ä¸º true, å®ƒä¹Ÿä¼šåŒ¹é…æ¢è¡Œç¬¦
      ```js
      const s = `hello
      world
      `;
      /hello.world/.test(s); // false
      /hello.world/s.test(s); // true
      ```
  - `(x)` åŒ¹é… x å¹¶è®°ä½åŒ¹é…é¡¹. å…¶ä¸­æ‹¬å·ç§°ä¸ºæ•è·æ‹¬å·.
    - `/(lo|ld)/.exec('Hello World!')` åŒ¹é…ä¸€ä¸ª
    - `[...'Hello World!'.match(/(lo|ld)/g)]` åŒ¹é…ä¸€ä¸ª
    - `[...'Hello World!'.matchAll(/(lo|ld)/g)]` åŒ¹é…æ‰€æœ‰
    - `'Hello World!'.replace(/(lo|ld)/g, '-$1')` æ›¿æ¢æ‰€æœ‰
  - `(?:x)` åŒ¹é… x ä½†æ˜¯ä¸è®°ä½åŒ¹é…é¡¹. è¿™ç§æ‹¬å·ç§°ä¸ºéæ•è·æ‹¬å·.
  - ç¯è§†(ä¸å ç”¨å­—ç¬¦ï¼ŒåªåŒ¹é…å­—ç¬¦æ‰€åœ¨çš„ä½ç½®)
    - `x(?=y)` è‚¯å®šé¡ºåºç¯è§†ï¼ŒåŒ¹é…x,ä»…å½“xåé¢æ˜¯y
      ```js
      '123123'.replace(/(?=3)/g, 'A'); // 12A312A3
      '1234567'.replace(/(?=(\d{3})+$)/g, ','); // 1,234,567
      ```
    - `(?<=y)x` è‚¯å®šé€†å‘ç¯è§†ï¼ŒåŒ¹é…x,ä»…å½“xå‰é¢æ˜¯y
    - `x(?!y)` æ­£å‘å¦å®šæŸ¥æ‰¾. ä»…å½“xåé¢ä¸ç´§è·Ÿyæ—¶åŒ¹é…x
    - `(?<!y)x` åå‘å¦å®šæŸ¥æ‰¾. ä»…å½“xå‰é¢ä¸æ˜¯yæ—¶åŒ¹é…x
  - `x|y` åŒ¹é…xæˆ–y
  - `{n}` `{n,}` `{n,m}` åŒ¹é…å‰ä¸€ä¸ªå­—ç¬¦nï½mæ¬¡
  - `[xyz]` åŒ¹é…æ–¹æ‹¬å·ä¸­çš„ä»»æ„å­—ç¬¦ï¼ŒåŒ…æ‹¬è½¬ä¹‰åºåˆ—.
    - å¯ä»¥ä½¿ç”¨ç ´æŠ˜å· `-` æ¥æŒ‡å®šä¸€ä¸ªå­—ç¬¦èŒƒå›´
    - å¯¹äº `.ã€*` è¿™æ ·çš„ç‰¹æ®Šç¬¦å·æ— éœ€è½¬ä¹‰
  - `[^xyz]` åŒ¹é…ä»»ä½•æ²¡æœ‰åŒ…å«åœ¨æ–¹æ‹¬å·ä¸­çš„å­—ç¬¦
  - `[\b]` åŒ¹é…ä¸€ä¸ªé€€æ ¼(U+0008)
  - `\b` åŒ¹é…ä¸€ä¸ªè¯çš„è¾¹ç•Œ. ä¸€ä¸ªè¯çš„è¾¹ç•Œå°±æ˜¯ä¸€ä¸ªè¯ä¸è¢«å¦ä¸€ä¸ªå­—ç¬¦è·Ÿéšçš„ä½ç½® `/hello\b/i.exec('Hello world')`
  - `\B` åŒ¹é…ä¸€ä¸ªéå•è¯è¾¹ç•Œ. `/hell\B/i.exec('Hello world')`
  - `\cX` å½“Xæ˜¯å¤„äºAåˆ°Zä¹‹é—´çš„å­—ç¬¦çš„æ—¶å€™, åŒ¹é…å­—ç¬¦ä¸²ä¸­çš„ä¸€ä¸ªæ§åˆ¶ç¬¦ EG: `/\cM/ åŒ¹é… contrl-M(U+000D)`
  - `\d` åŒ¹é…ä¸€ä¸ªæ•°å­—å­—ç¬¦. ç­‰ä»·äº [0-9]
  - `\D` åŒ¹é…ä¸€ä¸ªéæ•°å­—å­—ç¬¦. ç­‰ä»·äº [^0-9]
  - `\f` åŒ¹é…ä¸€ä¸ªæ¢é¡µç¬¦(U+000C)
  - `\n` åŒ¹é…ä¸€ä¸ªæ¢è¡Œç¬¦(U+000A)
  - `\r` åŒ¹é…ä¸€ä¸ªå›è½¦ç¬¦(U+000D)
  - `\s` åŒ¹é…ä¸€ä¸ªç©ºç™½å­—ç¬¦(åŒ…å« ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€æ¢é¡µç¬¦ã€æ¢è¡Œç¬¦)
  - `\S` åŒ¹é…ä¸€ä¸ªéç©ºç™½å­—ç¬¦
  - `\t` åŒ¹é…ä¸€ä¸ªæ°´å¹³åˆ¶è¡¨ç¬¦(U+0009)
  - `\v` åŒ¹é…ä¸€ä¸ªå‚ç›´åˆ¶è¡¨ç¬¦(U+000B)
  - `\w` åŒ¹é…ä¸€ä¸ªå•å­—å­—ç¬¦(å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿). ç­‰ä»·äº `[A-Za-z0-9_]`
  - `\W` åŒ¹é…ä¸€ä¸ªéå•å­—å­—ç¬¦. ç­‰ä»·äº `[A-Za-z0-9_]`
  - `\n` ???
  - `\0` åŒ¹é… NULL(U+0000) å­—ç¬¦, ä¸è¦åœ¨è¿™åé¢è·Ÿå…¶å®ƒå°æ•°, å› ä¸º `\0<digits>` æ˜¯ä¸€ä¸ªå…«è¿›åˆ¶è½¬ä¹‰åºåˆ—
  - `\xhh` åŒ¹é…ä¸€ä¸ªä¸¤ä½åå…­è¿›åˆ¶æ•° (\x00-\xFF) è¡¨ç¤ºçš„å­—ç¬¦
  - `\uhhhh` åŒ¹é…ä¸€ä¸ªå››ä½åå…­è¿›åˆ¶æ•°è¡¨ç¤ºçš„ UTF-16 ä»£ç å•å…ƒ
  - `\u{hhhh} æˆ– \u{hhhhh}` åŒ¹é…ä¸€ä¸ªåå…­è¿›åˆ¶æ•°è¡¨ç¤ºçš„ Unicodeå­—ç¬¦
- å®ä¾‹
  - ä¸­å›½æ‰‹æœºå· `/^((13[0-9]{1})|159|153)+\d{8}$/`
  - ç”µè¯å·ç  `/^((\d{3,4}[-| |+]){0,1})\d{7,8}$/`
  - é‚®ç®± `/^xxx@xxx\.[a-zA-Z]{2,3}$/` `([a-zA-Z0-9]+[_|.])*[a-zA-Z0-9]+`
### Array
- åˆ›å»ºæ•°ç»„çš„å‡ ç§æ–¹å¼
  - 1.æ„é€ å‡½æ•° `var arr = new Array()`
  - 2.å­—é¢é‡ `var arr = [1,2,3]`
- å¯¹è±¡åŸå‹å±æ€§ä¸æ–¹æ³•
  - `Array.prototype.length` ä¿®æ”¹lengthä¼šå½±å“æ•°ç»„çš„é•¿åº¦
  - `Array.prototype.toString()` è¿”å›æ•°ç»„ä¸­æ¯ä¸ªå€¼çš„ç­‰æ•ˆå­—ç¬¦ä¸²æ‹¼æ¥æˆçš„ä¸€ä¸ªé€—å·åˆ†éš”çš„å­—ç¬¦ä¸²
    ```js
    [['a', 'b'], 'c'].toString() // "a,b,c"
    ```
  - `Array.prototype.join(separator=',')` è¿æ¥æˆå­—ç¬¦ä¸²,è¿”å›æ“ä½œåçš„å­—ç¬¦ä¸²
    - arr.toString() ä¹Ÿèƒ½åšåˆ°
  - æ“ä½œæ–¹æ³•
    - `Array.prototype.concat(...arr)` åˆå¹¶,è¿”å›æ“ä½œåçš„æ•°ç»„
      - Symbol.isConcatSpreadable æ§åˆ¶åˆå¹¶çš„æ—¶å€™æ˜¯å¦æ‰“å¹³/å±•å¼€
    - `Array.prototype.slice(star, end)` ä»æ•°ç»„ä¸­æå–ç‰‡æ®µ,è¿”å›æ•°ç»„ç‰‡æ®µ
    - `Array.prototype.splice(index, countRemove[, ...ele])` ä»æ•°ç»„ä¸­ç§»é™¤ä¸€äº›å…ƒç´ ,å¹¶æ›¿æ¢å®ƒä»¬
  - æ ˆæ–¹æ³•(LIFOåè¿›å…ˆå‡º)
    - `Array.prototype.push(...ele)` æœ«å°¾æ·»åŠ å¤šä¸ªå…ƒç´ ,è¿”å›æ“ä½œåçš„é•¿åº¦
    - `Array.prototype.pop()` æœ«å°¾ç§»é™¤1ä¸ªå…ƒç´ ,è¿”å›è¯¥å…ƒç´ 
  - é˜Ÿåˆ—æ–¹æ³•(FIFOå…ˆè¿›å…ˆå‡º)
    - `Array.prototype.push(...ele)` æœ«å°¾æ·»åŠ å¤šä¸ªå…ƒç´ ,è¿”å›æ“ä½œåçš„é•¿åº¦
    - `Array.prototype.shift()` å¤´éƒ¨ç§»é™¤1ä¸ªå…ƒç´ ,è¿”å›è¯¥å…ƒç´ 
  - `Array.prototype.unshift(...ele)` å¤´éƒ¨æ·»åŠ å¤šä¸ªå…ƒç´ ,è¿”å›æ“ä½œåçš„é•¿åº¦
  - æœç´¢ä½ç½®æ–¹æ³•
    - `Array.prototype.indexOf(ele[, fromIndex])` è¿”å›å…ƒç´ çš„ç´¢å¼•
    - `Array.prototype.lastIndexOf(ele[, fromIndex])` è¿”å›å…ƒç´ çš„ç´¢å¼•,ä»ç»“å°¾å¼€å§‹æœç´¢
    - `Array.prototype.find()` æ‰¾å‡ºç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„æ•°ç»„æˆå‘˜ // es6
    - `Array.prototype.findIndex()` æ‰¾å‡ºç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„æ•°ç»„key // es6
    ```js
    const arr = ['a', 'b', 'c'];
    console.log(arr.find((val, index, obj) => {
      return false;
    }))
    ```
  - æ’åºæ–¹æ³•(éƒ½è¿”å›è°ƒç”¨å®ƒä»¬æ•°ç»„çš„å¼•ç”¨)
    - `Array.prototype.reverse()` é¢ å€’æ•°ç»„çš„é¡ºåº
    - `Array.prototype.sort(fn)` æ•°ç»„æ’åº,é»˜è®¤å‡åº
      ```js
      const arr = [1, 2, 9, 4, 6];
      arr.sort((a, b) => b - a);
      ```
  - å¤åˆ¶ã€å¡«å……
    - `Array.prototype.fill()` å¡«å……æ•°ç»„ // es6
      ```js
      let arr = Array(6); // [empty Ã— 6]
      arr.fill(0); // [0, 0, 0, 0, 0, 0]
      arr.fill(1, 3); // [0, 0, 0, 1, 1, 1]
      arr.fill(2, 2, -2); // [0, 0, 2, 2, 1, 1]
      ```
    - `Array.prototype.copyWithin()` å¤åˆ¶æ›¿æ¢ // es6
      ```js
      let arr = [1, 2, 3, 4, 5, 6];
      arr.copyWithin(3); // [1, 2, 3, 1, 2, 3]
      arr.copyWithin(4, 2); // [1, 2, 3, 1, 3, 1]
      ```
  - éå†æ–¹æ³•
    - `Array.prototype.entries()` // éå†æ•°ç»„,[[k, v], [k, v]]
    - `Array.prototype.keys()` // éå†æ•°ç»„ [k, k]
    - `Array.prototype.values()` // éå†æ•°ç»„ [v, v]
  - è¿­ä»£æ–¹æ³•
    - `Array.prototype.forEach(callback[, thisObject])` åœ¨æ•°ç»„æ¯ä¸ªå…ƒç´ ä¸Šæ‰§è¡Œcallback
    - `Array.prototype.map(function(currentValue,index,arr), thisValue)` éå†æ•°ç»„,callbackå¯¹æ•°ç»„è¿›è¡Œæ“ä½œ,å¹¶å°†ç»“æœå†™å›æ•°ç»„
    - `Array.prototype.filter(callback[, thisObject])` éå†æ•°ç»„,ç¬¦åˆæ¡ä»¶çš„è¿”å›true
    - `Array.prototype.every(callback[, thisObject])` éå†æ•°ç»„,æ¯é¡¹éƒ½è¿”å›true,åˆ™è¿”å›true
    - `Array.prototype.some(callback[, thisObject])` éå†æ•°ç»„,æœ‰1é¡¹è¿”å›true,åˆ™è¿”å›true
  - å½’å¹¶æ–¹æ³•
    - `Array.prototype.reduce(callback[, thisObject])` éå†æ•°ç»„, callback(firstVal, secondVal), åˆå§‹å€¼, è¿”å›æ€»å’Œ
    - `Array.prototype.reduceRight(callback[, thisObject])` å³ä¾§å¼€å§‹éå†
  - `Array.prototype.includes()` // åˆ¤æ–­æ˜¯å¦åŒ…å«æŸç»™å®šå€¼
  - `Array.prototype.flat(Infinity)` // å°†åµŒå¥—çš„æ•°ç»„æ‹‰å¹³,å˜æˆä¸€ç»´æ•°ç»„
    - æ‰å¹³åŒ–æ•°ç»„(1.é€’å½’;2.æ ˆ)
  - `Array.prototype.flatMap()` // æ‹‰å¹³éå†
- æ„é€ å‡½æ•°é™æ€æ–¹æ³•
  - `Array.isArray()` è§ï¼š<3ç§åˆ¤æ–­æ•°ç»„çš„æ–¹æ³•ï¼Œä»‹ç»åŒºåˆ«ä¸ä¼˜åŠ£>
  - `Array.from()` ç”¨äºå°†2ç±»å¯¹è±¡è½¬æ¢ä¸ºçœŸæ­£çš„æ•°ç»„
    - 1.ç±»ä¼¼æ•°ç»„çš„å¯¹è±¡(array-like object)
    - 2.å¯éå†(iterable)çš„å¯¹è±¡ (åŒ…æ‹¬ Set å’Œ Map)
      ```js
      function f1() { console.log(Array.prototype.slice.call(arguments)); } f1(1, 2, 3);
      Array.from(arguments);
      Array.from('123456', function (v) { return v * this.cap }, { cap: 2 }); // [2, 4, 6, 8, 10, 12]
      const map1 = new Map(); map1.set('a', '1'); map1.set('b', '2');
      Array.form(map1); // [["a","1"],["b","2"]]
      ```
  - `Array.of()` ç”¨äºå°†ä¸€ç»„å€¼è½¬æ¢ä¸ºæ•°ç»„
    ```js
    Array.of(1, 2, 3); // [1, 2, 3]
    ```
- æ‰©å±•è¿ç®—ç¬¦
  - æ›¿ä»£å‡½æ•°çš„applyæ–¹æ³•
    - ç”±äºæ‰©å±•è¿ç®—ç¬¦å¯ä»¥å±•å¼€æ•°ç»„,æ‰€ä»¥ä¸å†éœ€è¦applyæ–¹æ³•,å°†æ•°ç»„è½¬æ¢ä¸ºå‚æ•°äº†
    - function f(x, y) {}; f.apply(null, [1, 2]); // es5
    - function f(x, y) {}; f(...[1, 2]); // es6
  - å®ç°äº† Iterator æ¥å£çš„å¯¹è±¡
    - *ä»»ä½•å®šäº†éå†å™¨(Iterator)æ¥å£çš„å¯¹è±¡,éƒ½å¯ä»¥ç”¨æ‰©å±•è¿ç®—ç¬¦è½¬æ¢ä¸ºçœŸæ­£çš„æ•°ç»„*
    ```js
    let a = {};
    a[Symbol.iterator] = function*(){
      for (let i = 1; i <= 3; i++) yield i;
    };
    [...a]
    ```
  - åˆå¹¶2ä¸ªæ•°ç»„
    ```js
    a.concat(b)
    for (const v of b) { a.push(v); }
    [...a, ...b] // es
    a.push(...b) // es
    Array.prototype.push.apply(a, b) // es
    ```
  - å¤åˆ¶æ•°ç»„
    ```js
    let b = a.concat()
    let b = [...a]
    let [...b] = a
    ```
  - å­—ç¬¦ä¸²é•¿åº¦
    - `[...'helloğŸ˜„'].length` // å¯ä»¥æ­£ç¡®è¯†åˆ«å››ä¸ªå­—èŠ‚çš„unicodeå­—ç¬¦
    - åŒ `Array.from('hellğŸ˜„').length`
- æ•°ç»„ç©ºä½
  ```js
  Array.from(new Array(3)) // [undefined, undefined, undefined]
  Array.from([,,,]) // [undefined, undefined, undefined]
  ```
- æ•°ç»„ç´¢å¼•
  - ä¿®æ”¹æ•°ç»„ `arr[100] = 1`,ä¼šè‡ªåŠ¨ä¿®æ”¹æ•°ç»„çš„é•¿åº¦
  - æ•°ç»„ length å±æ€§æ˜¯å¯ä»¥ä¿®æ”¹çš„,ä¿®æ”¹å,å¯ç›´æ¥æ”¹å˜æ•°ç»„çš„é•¿åº¦
- å·²çŸ¥å¦‚ä¸‹æ•°ç»„ï¼Œç¼–å†™ä¸€ä¸ªç¨‹åºå°†æ•°ç»„æ‰å¹³åŒ–å»å¹¶é™¤å…¶ä¸­é‡å¤éƒ¨åˆ†æ•°æ®ï¼Œæœ€ç»ˆå¾—åˆ°ä¸€ä¸ªå‡åºä¸”ä¸é‡å¤çš„æ•°ç»„
  ```js
  var arr = [ [1, 2, 2], [3, 4, 5, 5], [6, 7, 8, 9, [11, 12, [12, 13, [14] ] ] ], 10];
  Array.from(new Set(arr.toString().split(',')), v => Number(v)).sort((a, b) => b - a);
  [...new Set(arr.flat(Infinity))].sort((a, b) => b - a);
  ```
- mapå’ŒforEachçš„åŒºåˆ«ï¼šmapå¯ä»¥ä¿®æ”¹åè¿”å›æ–°çš„æ•°ç»„

### å®šå‹æ•°ç»„
- ArrayBuffer / SharedArrayBuffer
- DataView
- Int8Array / Uint8Array / Uint8ClampedArray
- Int16Array / Uint16Array
- Int32Array / Uint32Array
- Float32Array / Float64Array
- BigInt64Array / BigUint64Array
- å®šå‹æ•°ç»„(typed array)æ˜¯ ECMAScript æ–°å¢çš„ç»“æ„,ç›®çš„æ˜¯æå‡å‘åŸç”Ÿåº“ä¼ è¾“æ•°æ®çš„æ•ˆç‡
- 2006å¹´æµè§ˆå™¨æä¾›å•†æœŸå¾…å¼€å‘ä¸€å¥— JS API,ä»è€Œé‡å¤åˆ©ç”¨ 3Då›¾å½¢API å’Œ GPUåŠ é€Ÿ,ä»¥ä¾¿åœ¨ canvas å…ƒç´ ä¸Šæ¸²æŸ“å¤æ‚çš„å›¾å½¢
- 2011å¹´å‘å¸ƒ WebGL,å› ä¸º JS æ•°ç»„ä¸åŸç”Ÿæ•°ç»„ä¹‹é—´ä¸åŒ¹é…,å‡ºç°äº†æ€§èƒ½é—®é¢˜
- ä¸ºè§£å†³è¿™ä¸ªé—®é¢˜,å®ç°äº† CanvasFloatArray,æœ€åå˜æˆäº† Float32Array,ä¹Ÿå°±æ˜¯ä»Šå¤©å®šå‹æ•°ç»„ä¸­å¯ç”¨çš„ç¬¬ä¸€ä¸ªç±»å‹
- `Float32Array` æ˜¯ä¸€ç§è§†å›¾,å…è®¸jsè¿è¡Œæ—¶è®¿é—®ä¸€å—åä¸º ArrayBuffer çš„é¢„åˆ†é…å†…å­˜
- ArrayBuffer
  - æ˜¯æ‰€æœ‰å®šå‹æ•°ç»„åŠè§†å›¾å¼•ç”¨çš„åŸºæœ¬å•ä½
  - SharedArrayBuffer æ˜¯ ArrayBuffer çš„ä¸€ä¸ªå˜ä½“,å¯ä»¥æ— éœ€å¤åˆ¶å°±åœ¨æ‰§è¡Œä¸Šä¸‹æ–‡é—´ä¼ é€’å®ƒ
  - ArrayBuffer ä¸€ç»åˆ›å»ºå°±ä¸èƒ½è°ƒæ•´å¤§å°,ç±»ä¼¼äº C++ çš„ malloc()
  ```js
  // ç”³è¯·4ä¸ªå­—èŠ‚çš„å†…å­˜
  const b1 = new ArrayBuffer(4);
  // 00000000 00000000 00000000 00000000
  ```
- DataView - ç¬¬ä¸€ç§å…è®¸è¯»å†™ ArrayBuffer çš„è§†å›¾
  - ä¸“ä¸º æ–‡ä»¶I/O å’Œ ç½‘ç»œI/O è®¾è®¡,å…¶APIæ”¯æŒå¯¹ç¼“å†²æ•°æ®çš„é«˜åº¦æ§åˆ¶,ä½†æ€§èƒ½è¦å·®äº›
  - DataView ä½¿ç”¨ ElementType æ¥å®ç° JS çš„ Number ç±»å‹åˆ°ç¼“å†²å†…äºŒè¿›åˆ¶æ ¼å¼çš„è½¬æ¢
  - ElementType
    - Int8 / 1å­—èŠ‚ / 8ä½æœ‰ç¬¦å·æ•´æ•° / C: signed char / -128~127
    - Uint8 / 1å­—èŠ‚ / 8ä½æ— ç¬¦å·æ•´æ•° / C: unsigned char / 0~255
    - Int16 / 2å­—èŠ‚ / 16ä½æœ‰ç¬¦å·æ•´æ•° / C: short
    - Uint16 / 2å­—èŠ‚ / 16ä½æ— ç¬¦å·æ•´æ•° / C: unsigned short
    - Int32 / 4å­—èŠ‚ / 32ä½æœ‰ç¬¦å·æ•´æ•° / C: int
    - Uint32 / 4å­—èŠ‚ / 32ä½æ— ç¬¦å·æ•´æ•° / C: unsigend int
    - Float32 / 4å­—èŠ‚ / 32ä½ IEEE-754æµ®ç‚¹æ•° float
    - Float64 / 8å­—èŠ‚ / 64ä½ IEEE-754æµ®ç‚¹æ•° double
  - å­—èŠ‚åº - è®¡ç®—æœºç³»ç»Ÿç»´æŠ¤çš„ä¸€ç§å­—èŠ‚é¡ºåºçš„çº¦å®š
    - DataView åªæ”¯æŒ2ç§çº¦å®š: å¤§ç«¯å­—èŠ‚åº å’Œ å°ç«¯å­—èŠ‚åº
    - å¤§ç«¯å­—èŠ‚åºä¹Ÿç§°ä¸º "ç½‘ç»œå­—èŠ‚åº",ä»æœ€åä¸€ä¸ªå­—èŠ‚å¾€å‰è¯»
    - å°ç«¯å­—èŠ‚åº,ä»ç¬¬ä¸€ä¸ªå­—èŠ‚å¾€åè¯»
  ```js
  // 00000000 00000000 00000000 00000000
  const view1 = new DataView(b1, 2);
  // 00000000 00000000 00000001 10010000
  view1.setInt16(0, 400);
  // 00000000 00000000 00000001 01111110
  view1.setInt8(1, 126);

  // å¤§ç«¯å­—èŠ‚åºè¯»å–  parseInt('00000001 01111110', 2)
  view1.getInt16(0); // 382
  // å°ç«¯å­—èŠ‚åºè¯»å–: parseInt('01111110 00000001', 2)
  view1.getInt16(0, true); // 32257
  ```
- å®šå‹æ•°ç»„ - å¦ä¸€ç§å½¢å¼çš„è§†å›¾
  - å®šå‹æ•°ç»„ä¸DataViewçš„åŒºåˆ«åœ¨äº,å®ƒç‰¹å®šäºä¸€ç§ ElementType ä¸” éµå¾ªç³»ç»ŸåŸç”Ÿçš„å­—èŠ‚åº
  ```js
  // å®šå‹æ•°ç»„
  const int1 = new Int8Array(b1);

  // 00000000 00000000 00000000
  const int2 = new Int8Array(3);

  // 00000000 00000000 00000000 00000000
  let int3 = new Uint8Array([0, 0, 0, 0]);
  // 11111111 11111111 11111111 11111111
  int3 = int3.map(x => 2**8 - 1);

  // 11111111 11111111 11111111 11111111
  let int4 = Uint8Array.of(255, 255, 255, 255);
  // 11111111 00000001 00000001 00000002
  int4.set(Uint16Array.of(1, 1, 2), 1);

  // 00000001 00000001
  const int5 = int4.subarray(1, 3);
  ```

### Map - æ˜ å°„
- ES6ä¹‹å‰,JSä¸­ "é”®/å€¼" å­˜å‚¨å¯ä»¥ä½¿ç”¨ Object æ–¹ä¾¿é«˜æ•ˆåœ°å®Œæˆ
- Mapçš„é”®åçš„èŒƒå›´ä¸é™äºå­—ç¬¦ä¸²,å„ç§ç±»å‹çš„å€¼(åŒ…æ‹¬å¯¹è±¡)éƒ½å¯ä»¥å½“ä½œé”®å,æ˜¯ä¸€ç§æ›´å®Œå–„çš„ Hash ç»“æ„å®ç°
  ```js
  // {"a" => "123", "b" => "456", "c" => "678"}
  new Map([
    ['a', '123'],
    ['b', '456'],
  ]).set('c', '678');
  // {"a" => "123", "b" => "456"}
  new Map({
    [Symbol.iterator]: function*() {
      yield ['a', '123'];
      yield ['b', '456'];
    }
  });
  ```
- Mapçš„å®ä¾‹å±æ€§å’Œæ–¹æ³•
  - Map.prototype.size: è¿”å›æˆå‘˜æ€»æ•°
  - Map.prototype.set(): è®¾ç½®é”®å€¼
  - Map.prototype.get(): è·å–é”®å€¼
  - Map.prototype.has(): æŸä¸ªé”®æ˜¯å¦åœ¨Mapå¯¹è±¡ä¸­
  - Map.prototype.delete(): åˆ é™¤æŸä¸ªé”®
  - Map.prototype.clear(): æ¸…é™¤æ‰€æœ‰æˆå‘˜
  - éå†æ–¹æ³•
    - *Mapçš„éå†é¡ºåºå°±æ˜¯æ’å…¥é¡ºåº*
    - Map.prototype.keys(): è¿”å›é”®åçš„éå†å™¨
    - Map.prototype.values(): è¿”å›é”®å€¼çš„éå†å™¨
    - Map.prototype.entries(): è¿”å›æ‰€æœ‰æˆå‘˜çš„éå†å™¨,ç­‰äº `map1[Symbol.iterator]`
    - Map.prototype.forEach(): éå†æ‰€æœ‰æˆå‘˜

### WeakMap - å¼±æ˜ å°„
- WeakMapä¸Mapç±»ä¼¼,ä½†ä¸Mapæœ‰2ä¸ªåŒºåˆ«ï¼š
  - 1.WeakMapåªæ¥å—å¯¹è±¡ä½œä¸ºé”®å(nullé™¤å¤–)
  - 2.WeakMapçš„é”®åæŒ‡å‘çš„å¯¹è±¡,ä¸è®¡å…¥åƒåœ¾å›æ”¶æœºåˆ¶(*å¼±å¼•ç”¨çš„åªæ˜¯é”®å,é”®å€¼ä»ç„¶æ­£å¸¸å¼•ç”¨*)
    - WeakMap ä¸­ "weak" è¡¨ç¤ºå¼±æ˜ å°„çš„é”®æ˜¯ "å¼±å¼±çš„æ‹¿ç€"
- WeakMapçš„è®¾è®¡ç›®çš„: æœ‰æ—¶æˆ‘ä»¬æƒ³åœ¨æŸä¸ªå¯¹è±¡ä¸Šå­˜æ”¾ä¸€äº›æ•°æ®, ä½†è¿™ä¼šå½¢æˆå¯¹å¯¹è±¡å¯¹å¼•ç”¨
  ```js
  // å·²å›æ”¶obj
  let obj = { a: 123 };
  const wmap1 = new WeakMap();
  wmap1.set(obj, [1, 2, 3]);
  obj = null;

  // æœªå›æ”¶obj
  let obj = { a: 123 };
  const wmap1 = new Map();
  wmap1.set(obj, [1, 2, 3]);
  obj = null;
  ```

### Set - é›†åˆ
- ç±»ä¼¼äºæ•°ç»„,ä½†æˆå‘˜çš„å€¼éƒ½æ˜¯å”¯ä¸€çš„,æ²¡æœ‰é‡å¤çš„å€¼
- Setå‡½æ•°å¯ä»¥æ¥å—ä¸€ä¸ªæ•°ç»„(æˆ–å…·æœ‰ iterable æ¥å£çš„å…¶å®ƒæ•°æ®ç»“æ„) ä½œä¸ºå‚æ•°,ç”¨æ¥åˆå§‹åŒ–
- é€šè¿‡ add() æ–¹æ³•å‘Setç»“æ„åŠ å…¥æˆå‘˜,Setç»“æ„ä¸ä¼šæ·»åŠ é‡å¤çš„å€¼
  ```js
  // {"a", "b"}
  new Set({
    [Symbol.iterator]: function*() {
      yield 'a';
      yield 'b';
    }
  });
  // {1, 2, 3}
  new Set([1, 2]).add(2).add(3);
  ```
- åˆ¤é‡ä¾æ®
  - å‘ Set åŠ å…¥å€¼çš„æ—¶å€™,ä¸ä¼šå‘é€ç±»å‹è½¬æ¢,æ‰€ä»¥5å’Œ"5"æ˜¯2ä¸ªä¸åŒçš„å€¼
  - Setå†…éƒ¨ä½¿ç”¨"Same-value-zero equality"åˆ¤æ–­ä¸¤ä¸ªå€¼æ˜¯å¦ç›¸åŒ,ç±»ä¼¼äºç²¾ç¡®ç›¸ç­‰è¿ç®—ç¬¦(===)
  - ä¸»è¦åŒºåˆ«: NaN === NaN // false, Setåˆ™è®¤ä¸ºç›¸ç­‰
- Setå®ä¾‹çš„å±æ€§å’Œæ–¹æ³•
  - Set.prototype.size: è¿”å›Setå®ä¾‹çš„æˆå‘˜æ€»æ•°
  - æ“ä½œæ–¹æ³•
    - Set.prototype.add(): æ·»åŠ æŸä¸ªå€¼
    - Set.prototype.delete(): åˆ é™¤æŸä¸ªå€¼
    - Set.prototype.has(): è¯¥å€¼æ˜¯å¦ä¸ºSetçš„æˆå‘˜
    - Set.prototype.clear(): æ¸…é™¤æ‰€æœ‰æˆå‘˜
  - éå†æ–¹æ³•
    - *ç”±äºSetç»“æ„æ²¡æœ‰é”®å,åªæœ‰é”®å€¼(æˆ–è€…è¯´é”®åå’Œé”®å€¼æ˜¯åŒä¸€ä¸ªå€¼),keyså’Œvaluesæ–¹æ³•çš„è¡Œä¸ºå®Œå…¨ä¸€è‡´*
    - Set.prototype.keys(): è¿”å›é”®åçš„éå†å™¨
    - Set.prototype.values(): è¿”å›é”®å€¼çš„éå†å™¨
    - Set.prototype.entries(): è¿”å›é”®å€¼å¯¹çš„éå†å™¨
    - Set.prototype.forEach(): ä½¿ç”¨å›è°ƒå‡½æ•°éå†æ¯ä¸ªæˆå‘˜

### WeakSet - å¼±é›†åˆ
- WeakSetç»“æ„ä¸Setç±»ä¼¼,ä½†ä¸Setæœ‰2ä¸ªåŒºåˆ«:
  - 1.WeakSetçš„æˆå‘˜åªèƒ½æ˜¯å¯¹è±¡,ä¸èƒ½æ˜¯å…¶å®ƒç±»å‹çš„å€¼
  - 2.WeakSetä¸­çš„å¯¹è±¡éƒ½æ˜¯å¼±å¼•ç”¨,å³åƒåœ¾å›æ”¶æœºåˆ¶ä¸è€ƒè™‘ WeakSet å¯¹è¯¥å¯¹è±¡çš„å¼•ç”¨
- *åƒåœ¾å›æ”¶æœºåˆ¶ä½•æ—¶è¿è¡Œæ˜¯ä¸å¯é¢„æµ‹çš„,å› æ­¤es6è§„å®šWeakSetä¸å¯éå†*
- *WeakSetçš„ä¸€ä¸ªç”¨å¤„,æ˜¯å­˜å‚¨DOMèŠ‚ç‚¹,è€Œä¸ç”¨æ‹…å¿ƒè¿™äº›èŠ‚ç‚¹ä»æ–‡æ¡£ç§»é™¤æ—¶,ä¼šå¼•å‘å†…å­˜æ³„éœ²*

### JSON
- JSON(JavaScript Object Notation,JSå¯¹è±¡æ ‡è®°)
  - æ˜¯JSçš„ä¸€ä¸ªä¸¥æ ¼å­é›†
  - æ˜¯ä¸€ç§è½»é‡çº§çš„æ•°æ®äº¤æ¢æ ¼å¼ï¼Œç”¨æ¥å­˜å‚¨å’Œè¡¨ç¤ºæ•°æ®ï¼Œç±»ä¼¼äºxml/yaml
- JSON.parse()
- JSON.stringify(value, ?replacer, ?space)
  - replacer null,æ•°ç»„,å‡½æ•° å†³å®šç”Ÿæˆçš„JSONåŒ…å«å“ªäº›å±æ€§
  - space null,æ•°å€¼,å­—ç¬¦ä¸² å†³å®šç”Ÿæˆçš„JSONç¼©è¿›ç©ºæ ¼æ•°,ç¼©è¿›ç¬¦å·
  ```js
  JSON.stringify({
    undefined1: undefined,
    null1: null, // "null1":null
    boolean1: true, // "boolean1":true
    number1: 1.22, // "number1":1.22
    string1: 'abc', // "string1":"abc"
    [Symbol(23)]: 1,
    symbol1: Symbol(1123),
    bigint1: 123n, // Uncaught TypeError: Do not know how to serialize a BigInt
  });
  ```
- æœ‰æ—¶å€™,å¯¹è±¡éœ€è¦è‡ªå®šä¹‰ JSON.stringify() ç»“æœ
  - å¯ä»¥åœ¨è¦åºåˆ—åŒ–çš„å¯¹è±¡ä¸­æ·»åŠ  toJSON() æ–¹æ³•
  - ç®­å¤´å‡½æ•°ä¸èƒ½ç”¨æ¥å®šä¹‰ toJSON() æ–¹æ³•,ä¸»è¦åŸå› æ˜¯ç®­å¤´å‡½æ•°çš„ this æŒ‡å‘
  ```js
  let book = {
    title: 'ä¸­å›½æ–‡æ—­',
    author: ['éƒ­é™','é»„è£'],
    toJSON: function() {
      return [this.title];
    },
  };
  JSON.stringify(book); // ["ä¸­å›½æ–‡æ—­"]
  ```

### è¿­ä»£å™¨ Iterator
- å®ç°äº†æ­£å¼çš„ *Iterable æ¥å£* çš„ç»“æ„ç§°ä¸º "*å¯è¿­ä»£å¯¹è±¡*"(iterable),å¯ä»¥é€šè¿‡ *è¿­ä»£å™¨ Iterator* æ¶ˆè´¹
- å¯è¿­ä»£å¯¹è±¡,æš´éœ²ä¸€ä¸ªå±æ€§ Symbol.iterator => è¿­ä»£å™¨å·¥å‚å‡½æ•°,è°ƒç”¨å·¥å‚å‡½æ•°å¿…é¡»è¿”å›ä¸€ä¸ª è¿­ä»£å™¨A
- å¾ˆå¤šå†…ç½®ç±»å‹éƒ½å®ç°äº† Iterable æ¥å£ï¼šå­—ç¬¦ä¸²ã€æ•°ç»„ã€æ˜ å°„ã€é›†åˆã€argumentså¯¹è±¡ã€NodeList DOMé›†åˆç±»å‹
  - å®é™…å†™ä»£ç è¿‡ç¨‹ä¸­ï¼Œä¸éœ€è¦æ˜¾è¯•è°ƒç”¨è¿™ä¸ªå·¥å‚å‡½æ•°æ¥ç”Ÿæˆè¿­ä»£å™¨
    - å¯æ¥æ”¶å¯è¿­ä»£å¯¹è±¡çš„åŸç”Ÿè¯­è¨€ç»“æ„åŒ…æ‹¬ï¼š
    - 1.for-of å¾ªç¯
    - 2.æ•°ç»„è§£æ„ `[a, b] = new Set(['h', 'e']);`
    - 3.æ‰©å±•æ“ä½œç¬¦ `[...arr] = 'hello';`
    - 4.Arary.from()
    - 5.åˆ›å»ºæ˜ å°„ã€é›†åˆ `Map([]) Set([]) WeakMap([]) WeakSet([])`
    - 6.Promise.all() / Promise.race() æ¥æ”¶ç”±æœŸçº¦ç»„æˆçš„å¯è¿­ä»£å¯¹è±¡
    - 7.yield*æ“ä½œç¬¦,åœ¨ç”Ÿæˆå™¨ä¸­ä½¿ç”¨
      ```js
      let gen = function* () { yield 1; yield* [2, 3, 4]; };
      let iter = gen();
      [...iter] // [1, 2, 3, 4, 5]
      ```
  - è¿­ä»£å™¨A æ˜¯ä¸€ç§ä¸€æ¬¡æ€§ä½¿ç”¨çš„å¯¹è±¡
    - next() æ–¹æ³•è¿”å›è¿­ä»£å™¨å¯¹è±¡ IteratorResult { done: false, value: 23 }
    - ä¸åŒçš„è¿­ä»£å™¨çš„å®ä¾‹ä¹‹é—´æ²¡æœ‰è”ç³»
      ```js
      const arr = ['a', 'b'];
      const iter1 = arr[Symbol.iterator]();
      const iter2 = arr[Symbol.iterator]();
      iter1.next(); // {value: "a", done: false}
      iter2.next(); // {value: "a", done: false}
      iter1.next(); // {value: "b", done: false}
      ```
    - è¿­ä»£å™¨å¹¶ä¸ä¸å¯è¿­ä»£å¯¹è±¡æŸä¸ªæ—¶åˆ»çš„å¿«ç…§ç»‘å®š,ä»…ä»…ä½¿ç”¨æ¸¸æ ‡æ¥è®°å½•éå†å¯è¿­ä»£å¯¹è±¡çš„å†ç¨‹
      - å¦‚æœå¯è¿­ä»£å¯¹è±¡åœ¨è¿­ä»£æœŸé—´è¢«ä¿®æ”¹äº†,é‚£ä¹ˆè¿­ä»£å™¨ä¹Ÿä¼šååº”ç›¸åº”çš„å˜åŒ–
- è‡ªå®šä¹‰è¿­ä»£å™¨
  - å¯¹è±¡å½¢å¼
    ```js
    // å¯è¿­ä»£å¯¹è±¡
    const obj = {
      [Symbol.iterator]: function () {
        // è¿­ä»£å™¨A
        return {
          i: 0,
          next: function() {
            this.i++;
            if (this.i > 2) {
              return {done: true, value: undefined}
            }
            return {done: false, value: this.i};
          }
        };
      }
    };
    const iter = obj[Symbol.iterator]();
    iter.next(); // {done: false, value: 1}
    iter.next(); // {done: false, value: 2}
    iter.next(); // {done: true, value: undefined}
    [...obj]; // [1, 2]

    // Symbol.iterator ä¹Ÿå¯è¿­ä»£
    const obj = {
      i: 0,
      [Symbol.iterator]: function () {
        // è¿­ä»£å™¨A
        return this;
      },
      next: function() {
        this.i++;
        if (this.i > 2) {
          return {done: true, value: undefined}
        }
        return {done: false, value: this.i};
      },
    };
    const iter = obj[Symbol.iterator]();
    console.log([...obj]);
    console.log([...iter]);
    ```
  - ç”Ÿæˆå™¨å½¢å¼
    ```js
    // å¯è¿­ä»£å¯¹è±¡
    const obj = {
      [Symbol.iterator]: function * () {
        yield 1;
        yield 2;
      }
    };
    const iter = obj[Symbol.iterator]();
    iter.next(); // {done: false, value: 1}
    iter.next(); // {done: false, value: 2}
    iter.next(); // {done: true, value: undefined}
    [...obj]; // [1, 2]
    ```
  - ç±»å½¢å¼,å®ä¾‹åªèƒ½è¢«è¿­ä»£ä¸€æ¬¡
    ```js
    class Obj {
      i = 0;
      [Symbol.iterator]() {
        return this;
      }
      next() {
        this.i++;
        if (this.i > 2) {
          return {done: true, value: undefined}
        }
        return {done: false, value: this.i};
      }
    }
    const obj = new Obj();
    const iter = obj[Symbol.iterator]();
    iter.next(); // {done: false, value: 1}
    iter.next(); // {done: false, value: 2}
    iter.next(); // {done: true, value: undefined}
    [...obj]; // []
    ```
  - ç±»å½¢å¼
    ```js
    class Obj {
      [Symbol.iterator]() {
        let i = 0;
        return {
          next() {
            i++;
            if (i > 2) {
              return {done: true, value: undefined}
            }
            return {done: false, value: i};
          }
        };
      }
    }
    const obj = new Obj();
    const iter = obj[Symbol.iterator]();
    iter.next(); // {done: false, value: 1}
    iter.next(); // {done: false, value: 2}
    iter.next(); // {done: true, value: undefined}
    [...obj]; // [1,2]
    ```
- æå‰ç»ˆæ­¢è¿­ä»£å™¨
  - å¯é€‰çš„ return() æ–¹æ³•ç”¨äºæŒ‡å®šè¿­ä»£å™¨æå‰å…³é—­å‰æ‰§è¡Œçš„é€»è¾‘
  - å¯èƒ½çš„æƒ…å†µåŒ…æ‹¬:
    - 1.for-of å¾ªç¯é€šè¿‡ breakã€contineã€returnã€throw æå‰é€€å‡º
    - 2.è§£æ„æ“ä½œå¹¶æœªæ¶ˆè´¹æ‰€æœ‰å€¼
  - return() æ–¹æ³•å¿…é¡»è¿”å›ä¸€ä¸ªæœ‰æ•ˆçš„ IteratorResult å¯¹è±¡, {done: true}
  - return ä¸ä¼šæ§åˆ¶ è¿­ä»£å™¨æ˜¯å¦å…³é—­(æ˜¯å¦ å¯ä»¥ä»ä¸Šæ¬¡ç¦»å¼€çš„åœ°æ–¹ç»§ç»­è¿­ä»£)

### ç”Ÿæˆå™¨ Generator / GeneratorFunction
- ç”Ÿæˆå™¨çš„å½¢å¼æ˜¯ä¸€ä¸ªå‡½æ•°,å‡½æ•°åç§°å‰é¢åŠ ä¸ª æ˜Ÿå·(*) è¡¨ç¤ºå®ƒæ˜¯ä¸€ä¸ªç”Ÿæˆå™¨
- åªè¦æ˜¯å¯ä»¥å®šä¹‰å‡½æ•°çš„åœ°æ–¹,å°±å¯ä»¥å®šä¹‰ç”Ÿæˆå™¨ *ç®­å¤´å‡½æ•°ä¸èƒ½ç”¨æ¥å®šä¹‰ç”Ÿæˆå™¨å‡½æ•°*
- è°ƒç”¨ç”Ÿæˆå™¨å‡½æ•°ä¼šäº§ç”Ÿä¸€ä¸ª ç”Ÿæˆå™¨å¯¹è±¡(å…·æœ‰nextæ–¹æ³•)
- ç”Ÿæˆå™¨å¯¹è±¡å®ç°äº† Iteralbe æ¥å£,*å®ƒé»˜è®¤çš„è¿­ä»£å™¨æ˜¯è‡ªå¼•ç”¨çš„*
  ```js
  function * G() {
    yield 1; yield 2; yield 3;
  }
  const g = G();
  g[Symbol.iterator]() === g // true !!! å®ƒé»˜è®¤çš„è¿­ä»£å™¨æ˜¯è‡ªå¼•ç”¨çš„
  g.next(); // {value: 1, done: false}
  [...g]; // [2, 3]
  ```
- yieldçš„åº”ç”¨
  - è·å–æŸä¸ªèŒƒå›´çš„æ•°ç»„
    ```js
    function * range(a, b) {
      while (a < b + 1) {
        yield a++;
      }
    }
    for (let x of range(3, 5)) {
      console.log(x);
    }
    ```
  - é€’å½’
    ```js
    function * f1(n) {
      if (n > 0) {
        yield* f1(n - 1);
        yield n - 1;
      }
    }
    console.log([...f1(10)]);
    ```
  - æ–æ³¢é‚£å¥‘æ•°åˆ—
    ```js
    function * f2(n) {
      let a = 1, b = 1;
      let i = 1;
      while (i <= n) {
        yield a;
        [a, b] = [b, a + b];
        i++;
      }
    }
    console.log([...f2(10)]);
    ```
- æå‰ç»ˆæ­¢ç”Ÿæˆå™¨
  - return() æ–¹æ³•ä¼šå¼ºåˆ¶ç”Ÿæˆå™¨è¿›å…¥å…³é—­çŠ¶æ€,æä¾›ç»™return()æ–¹æ³•çš„å€¼,å°±æ˜¯è¿­ä»£å™¨å¯¹è±¡çš„å€¼
    ```js
    function * f1() {
      yield 1; yield 2; yield 3;
    }
    const t1 = f1();
    t1.next(); // {value: 1, done: false}
    t1.return(4); // {value: 4, done: true}
    t1.next(); // {value: undefined, done: true}
    ```
  - throw() æ–¹æ³•ä¼šåœ¨æš‚åœçš„æ—¶å€™å°†ä¸€ä¸ªæä¾›çš„é”™è¯¯æ³¨å…¥åˆ°ç”Ÿæˆå™¨å¯¹è±¡,è‹¥é”™è¯¯æœªå¤„ç†,ç”Ÿæˆå™¨å°±ä¼šå…³é—­
    ```js
    function * f1() {
      yield 1; yield 2; yield 3;
    }
    const t1 = f1();
    t1.next(); // {value: 1, done: false}
    try {
      t1.throw('error info');
    } catch (e) {
      console.log(e); // error info
    }
    t1.next(); // {value: undefined, done: true}
    ```
- next æ–¹æ³•çš„å‚æ•°
  - yield è¡¨è¾¾å¼æœ¬èº«æ²¡æœ‰è¿”å›å€¼,æˆ–è€…è¯´æ€»æ˜¯è¿”å› undefined
  - next æ–¹æ³•å¯ä»¥å¸¦ä¸€ä¸ªå‚æ•°,è¯¥å‚æ•°ä¼šè¢«å½“ä½œ*ä¸Šä¸€ä¸ªyieldè¡¨è¾¾å¼çš„è¿”å›å€¼*
    ```js
    function* f() {
      for (let i = 0; true; i++) {
        let reset = yield i;
        if (reset) i = -1;
      }
    }
    const g = f();
    g.next(); // {value: 0, done: false}
    g.next(); // {value: 1, done: false}
    g.next(true); // {value: 0, done: false}
    ```

### Promise
```js
new Promise((resolve, reject) => {
  setTimeout(() => {
    resolve([1, 2, 3])
  }, 1000)
}).then(res => {
  console.log(res)
}).catch(res => {
  console.log(res)
}).finally(() => {
  console.log('finally')
})
```
- å¼‚æ­¥ç¼–ç¨‹çš„ä¸€ç§è§£å†³æ–¹æ¡ˆ,æ¯”ä¼ ç»Ÿçš„'å›è°ƒå‡½æ•°å’Œäº‹ä»¶'æ›´åˆç†æ›´å¼ºå¤§
- Promiseå¯¹è±¡ä»£è¡¨ä¸€ä¸ªå¼‚æ­¥æ“ä½œ,æœ‰3ç§çŠ¶æ€: pending(å¾…å®š)ã€fulfilled(å…‘ç°)å’Œrejected(æ‹’ç»)
- Primiseå¯¹è±¡æœ‰2ä¸ªç‰¹ç‚¹ï¼š
  - 1.å¯¹è±¡çš„çŠ¶æ€ä¸å—å¤–ç•Œå½±å“
    - åªæœ‰å¼‚æ­¥æ“ä½œç»“æœå¯ä»¥å†³å®šå½“å‰æ˜¯å“ªç§çŠ¶æ€
    - â€œæ‰¿è¯ºâ€,è¡¨ç¤ºå…¶ä»–æ‰‹æ®µæ— æ³•æ”¹å˜
  - 2.ä¸€æ—¦çŠ¶æ€æ”¹å˜,å°±ä¸ä¼šå†å˜
    - çŠ¶æ€æ”¹å˜åªæœ‰2ç§å¯èƒ½:ä»pending->fulfilled,ä»pedding->rejected
    - çŠ¶æ€æ”¹å˜äº†,åœ¨å¯¹Promiseæ·»åŠ å›è°ƒå‡½æ•°,ä¼šç«‹å³å¾—åˆ°ç»“æœ
- Promiseæ–°å»ºåä¼šç«‹å³æ‰§è¡Œ
  ```js
  const p1 = new Promise((resolve) => {
    // é‡Œé¢çš„å†…å®¹ä¼šç«‹å³æ‰§è¡Œ
    console.log('123');
    setTimeout(() => resolve('abc'), 1000);
  });
  p1.then(value => console.log(value)); // abc
  ```
- Promiseç›¸äº’ä¾èµ–
  - p2çš„å›è°ƒå‡½æ•°ä¼šç­‰å¾…p1çš„çŠ¶æ€æ”¹å˜,å¦‚æœp1çš„çŠ¶æ€æ˜¯resolvedæˆ–rejected,é‚£ä¹ˆp2çš„å›è°ƒå‡½æ•°ä¼šç«‹åˆ»æ‰§è¡Œ
  - è°ƒç”¨resolveæˆ–rejectå,Promiseçš„ä½¿å‘½å°±å®Œæˆäº†,åç»­æ“ä½œåº”æ”¾åˆ°thenæ–¹æ³•é‡Œé¢,æœ€å¥½åœ¨resolveå‰åŠ return
  ```js
  const p1 = new Promise((resolve, reject) => setTimeout(() => reject('error'), 2000));
  const p2 = new Promise((resolve, reject) => setTimeout(() => resolve(p1), 1000));
  p2.then(
    (value) => console.log('resolve:' + value),
    (errro) => console.log('11111'), // 11111
  ).catch((error) => console.log('reject:' + error));
  ```
- `Promise.prototype.then()`
  - thenæ–¹æ³•è¿”å›ä¸€ä¸ªæ–°çš„Promiseå®ä¾‹(æ³¨æ„:ä¸æ˜¯åŸæ¥é‚£ä¸ªPromiseå®ä¾‹)
  - å› æ­¤å¯ä»¥é‡‡ç”¨é“¾å¼å†™æ³•,thenåé¢è°ƒç”¨å¦ä¸€ä¸ªthenæ–¹æ³•
  ```js
  // Promise å®ä¾‹
  const f1 = async () => {
    const res = await new Promise((resolve) => {
      setTimeout(() => { resolve('p1'); }, 1000);
    });
    return [res, 'p2'];
  };
  f1().then(res => {
    console.log(res);
  }).catch(err => {
    console.log(err)
  });
  ```
- `Promise.prototype.catch()`
  - *æ˜¯ .then(null, rejection) æˆ– .then(undefined, rejection) çš„åˆ«å,ç”¨äºæŒ‡å®šå‘é€é”™è¯¯æ—¶çš„å›è°ƒå‡½æ•°*
  - è·Ÿä¼ ç»Ÿçš„ try/catch ä»£ç å—ä¸åŒçš„æ˜¯,å¦‚æœæ²¡æœ‰catch()æ–¹æ³•,PromiseæŠ›å‡ºçš„é”™è¯¯ä¸ä¼šä¼ é€’åˆ°å¤–å±‚,å³ä¸ä¼šæœ‰ä»»ä½•ååº”
  - Promiseå†…éƒ¨çš„é”™è¯¯(å¦‚å˜é‡æœªå®šä¹‰),ä¸ä¼šå½±å“åˆ°Promiseå¤–éƒ¨çš„ä»£ç ,é€šä¿—çš„è¯´æ³•æ˜¯Promiseä¼šåƒæ‰é”™è¯¯
  - reject() æ–¹æ³•çš„ä½œç”¨,ç­‰åŒäºæŠ›å‡ºé”™è¯¯
  ```js
  new Promise((resolve, reject) => {
    throw new Error('test');
  });
  // ç­‰ä»·äº
  new Promise((resolve, reject) => {
    reject(new Error('test'));
  });
  ```
- `Promise.prototype.finally()`
  - finally() æ–¹æ³•æ˜¯ä¸ç®¡ Promise å¯¹è±¡æœ€åçŠ¶æ€å¦‚ä½•,éƒ½ä¼šæ‰§è¡Œçš„æ“ä½œ
- `Promise.all()`
  - å®ä¾‹éƒ½å˜æˆfulfilled æˆ– å…¶ä¸­ä¸€ä¸ªå˜æˆrejected
  - æ— æ³•ç¡®å®šæ‰€æœ‰å®ä¾‹éƒ½ç»“æŸ
  ```js
  const p1 = new Promise((resolve, reject) => {
    setTimeout(() => { resolve('p1'); }, 1000);
  });
  const p2 = new Promise((resolve, reject) => {
    setTimeout(() => { resolve('p2'); }, 1000);
  });
  const f1 = async () => {
    const res = await Promise.all([p1, p2]);
    res.push('p3');
    return res;
  };
  f1().then(res => {
    console.log(res);
  }).catch(err => {
    console.log(err)
  });
  ```
- `Promise.race()`
  - æœ‰ä¸ªå®ä¾‹ç‡å…ˆæ”¹å˜çŠ¶æ€,pçš„çŠ¶æ€å°±è·Ÿç€æ”¹å˜
  ```js
  // 5ç§’å†…æœªè¿”å›ç»“æœ,å°±å˜ä¸ºrejected
  (Promise.race([
    fetch('/a.js'),
    new Promise((resolve, reject) => setTimeout(() => reject('time out'), 5000)),
  ])).then().catch();
  ```
- `Promise.allSettled()`
  - åªæœ‰ç­‰å¾…æ‰€æœ‰å®ä¾‹è¿”å›ç»“æœ,ä¸ç®¡æ˜¯fulfilledè¿˜æ˜¯rejected,åŒ…è£…å®ä¾‹æ‰ä¼šç»“æŸ
  ```js
  // ä¸€æ—¦ç»“æŸ,çŠ¶æ€æ€»æ˜¯fulfilled
  Promise.allSettled([
    Promise.resolve(1),
    Promise.reject(-1),
  ]).then(res => {
    console.log(res);
  });
  // 0: {status: "fulfilled", value: 1}
  // 1: {status: "rejected", reason: -1}
  ```
- `Promise.any()`
  - åªè¦å®ä¾‹æœ‰ä¸€ä¸ªå˜æˆfulfilledçŠ¶æ€,åŒ…è£…å®ä¾‹å°±ä¼šå˜æˆfulfilledçŠ¶æ€
- `Promise.resolve()`
  ```js
  // ä¸¤è€…ç­‰ä»·
  let p1 = new Promise((resolve) => resolve(123));
  let p2 = Promise.resolve(123);

  Promise.resolve([1, 2, 3]).then(res => {
    console.log(res)
  }).catch(res => {
    console.log(res)
  }).finally(() => {
    console.log('finally')
  })
  ```
  - å°†ç°æœ‰å¯¹è±¡è½¬æ¢ä¸ºPromiseå¯¹è±¡
  - *ç«‹å³resovleçš„Promiseå¯¹è±¡,åœ¨æœ¬è½®äº‹ä»¶å¾ªç¯ç»“æŸæ—¶æ‰§è¡Œ,è€Œä¸æ˜¯åœ¨ä¸‹ä¸€è½®äº‹ä»¶å¾ªç¯å¼€å§‹æ—¶*
    ```js
    setTimeout(() => console.log('3'), 0); // ä¸‹ä¸€è½®äº‹ä»¶å¾ªç¯å¼€å§‹æ—¶æ‰§è¡Œ
    Promise.resolve().then(() => console.log(2)); // æœ¬è½®äº‹ä»¶å¾ªç¯ç»“æŸæ—¶æ‰§è¡Œ
    console.log(1);
    // 1 2 3
    ```
  - å‚æ•°åˆ†ä¸ºå››ç§æƒ…å†µ
    - 1.å‚æ•°æ˜¯ä¸€ä¸ªPromiseå®ä¾‹: Promise.resolve å°†ä¸åšä»»ä½•ä¿®æ”¹åœ°è¿”å›è¿™ä¸ªå®ä¾‹
    - 2.å‚æ•°æ˜¯ä¸€ä¸ªthenableå¯¹è±¡: Promise.resolve ä¼šå°†è¿™ä¸ªå¯¹è±¡è½¬ä¸º Promise å¯¹è±¡,ç„¶åç«‹å³æ‰§è¡Œ  thenable å¯¹è±¡çš„å‡½æ•°
      ```js
      let obj1 = { then: (resolve, reject) => resolve(42) };
      Promise.resolve(obj1).then(v => console.log(v)); // 42
      ```
    - 3.å‚æ•°ä¸å…·å¤‡thenæ–¹æ³•çš„å¯¹è±¡,åæ ¹æœ¬ä¸æ˜¯å¯¹è±¡: åˆ™è¿”å›resolved
      ```js
      const p1 = Promise.resolve('Hello);
      p1.then(v => v); // Hello
      ```
    - 4.ä¸å¸¦æœ‰ä»»ä½•å‚æ•°:è¿”å›resolved
- `Promise.reject()`
  - ç¬¬ä¸€ä¸ª try/catch æŠ›å‡ºå¹¶æ•è·äº†å¼‚å¸¸ï¼Œç¬¬äºŒä¸ª try/catch æŠ›å‡ºé”™è¯¯å´æ²¡æ•è·åˆ°
  - åŒæ­¥ä»£ç ä¹‹æ‰€ä»¥æ²¡æœ‰æ•è·æœŸçº¦æŠ›å‡ºçš„é”™è¯¯ï¼Œæ˜¯å› ä¸ºå®ƒæ²¡æœ‰é€šè¿‡å¼‚æ­¥æ¨¡å¼æ•è·é”™è¯¯
  ```js
  try {
    throw new Error('err1');
  } catch(e) {
    console.log(e);
  }
  // Uncaught (in promise) Error: err2
  try {
    Promise.reject(new Error('err2'));
  } catch(e) {
    console.log(e);
  }

  ```
- ä¾‹å­ï¼šå¾ªç¯ åŒæ­¥ Promise
  ```js
  (async () => {
    for (let i = 1; i <= 10; i++) {
      await new Promise((resolve) => {
        setTimeout(() => {
          console.log(i);
          resolve();
        }, 1000);
      });
    }
  })();
  ```
  ```js
  // æ— æ•ˆ,éåŒæ­¥,forEaché‡Œçš„å‡½æ•°åªæ˜¯å‚æ•°
  (() => {
    [1, 2, 3, 4].forEach(async v => {
      await new Promise((resolve) => {
        setTimeout(() => {
          console.log(v);
          resolve();
        }, 1000);
      });
    });
  })();
  ```

### AsyncFunction(Async å‡½æ•°)
- async å‡½æ•°æ˜¯ Generator å‡½æ•°çš„è¯­æ³•ç³–
- async å‡½æ•°è¿”å›çš„æ˜¯ Promise å¯¹è±¡,å¯ä»¥ä½œä¸º await å‘½ä»¤çš„å‚æ•°
  - 1.å†…éƒ¨ return è¯­å¥çš„è¿”å›å€¼,ä¼šæˆä¸º then æ–¹æ³•å›è°ƒå‡½æ•°çš„å‚æ•°
    ```js
    async function f() { return 'hello'; }
    f().then(v => console.log(v)); // hello
    ```
  - 2.å†…éƒ¨æŠ›å‡ºé”™è¯¯,ä¼šçŸ¥é“å˜ä¸º reject çŠ¶æ€
    ```js
    async function f() { throw new Error('å‡ºé”™äº†'); }
    f().then(null, e => console.log(e)); // å‡ºé”™äº†
    ```
- async å‡½æ•°è¿”å›çš„ Promise å¯¹è±¡,å¿…é¡»ç­‰åˆ°å†…éƒ¨æ‰€ä»¥ await å‘½ä»¤åé¢çš„ Promise å¯¹è±¡æ‰§è¡Œå®Œ, æ‰ä¼šå‘ç”ŸçŠ¶æ€å˜åŒ–
  - é™¤éé‡åˆ° return æˆ– æŠ›å‡ºé”™è¯¯
    ```js
    async function getA() {
      let s1 = await new Promise((resolve) => setTimeout(() => resolve('hello'), 5000));
      console.log('11');
      let s2 = await new Promise((resolve) => setTimeout(() => resolve('hello'), 5000));
      console.log('22');
      return `${s1} ${s2}`;
    }
    getA().then(v => console.log(v));
    ```
- awaitå‘½ä»¤
  - æ­£å¸¸æƒ…å†µä¸‹, await åé¢æ˜¯ä¸€ä¸ª Promise å¯¹è±¡;å¦‚æœä¸æ˜¯ Promise å¯¹è±¡,åˆ™ç›´æ¥è¿”å›å¯¹åº”çš„å€¼
    ```js
    async function f() {
      return await 123; // ç­‰åŒäº return 123
    }
    ```
  - å¦ä¸€ç§æƒ…å†µ,awaitåé¢æ˜¯ä¸€ä¸ª thenable å¯¹è±¡(å³å®šä¹‰äº†thenæ–¹æ³•çš„å¯¹è±¡),awaitä¼šå°†å…¶ç­‰åŒäº Promise å¯¹è±¡
    ```js
    class Sleep {
      then(resolve, reject) {
        setTimeout(() => resolve('131313'), 3000);
      }
    }
    await new Sleep();
    ```
- å˜åŒ–å†ç¨‹
  - 0.JavaScriptéœ€è¦å¼‚æ­¥ç¼–ç¨‹
    - ç”±äº JavaScript æ˜¯å•çº¿ç¨‹æ‰§è¡Œæ¨¡å‹,å› æ­¤å¿…é¡»æ”¯æŒå¼‚æ­¥ç¼–ç¨‹æ‰èƒ½æé«˜è¿è¡Œæ•ˆç‡
    - å¼‚æ­¥ç¼–ç¨‹çš„è¯­æ³•ç›®æ ‡æ˜¯è®©å¼‚æ­¥è¿‡ç¨‹å†™èµ·æ¥åƒåŒæ­¥è¿‡ç¨‹
  - 1.å›è°ƒå‡½æ•°
    - å°±æ˜¯æŠŠå ç”¨éCPUçš„ä»»åŠ¡çš„ç¬¬äºŒæ®µå•ç‹¬å†™åœ¨ä¸€ä¸ªå‡½æ•°ä¸­,ç­‰éCPUçš„ä»»åŠ¡å®Œæˆå,ç›´æ¥è°ƒç”¨è¿™ä¸ªå‡½æ•°(demo1)
    - é—®é¢˜ï¼šå®¹æ˜“å½¢æˆå›è°ƒåœ°ç‹±,ä»£ç å¯è¯»æ€§å·®(demo2)
  - 2.Promise
    - åˆ©ç”¨ç¼–ç¨‹æŠ€å·§å°†å›è°ƒå‡½æ•°æ”¹æˆé“¾å¼è°ƒç”¨,é¿å…å›è°ƒåœ°ç‹±
    - é—®é¢˜ï¼šä»£ç å†—ä½™,åŸæ¥çš„è¯­ä¹‰å˜å¾—ä¸æ˜¯å¾ˆæ¸…æ¥š(demo3)
  - 3.é€šè¿‡ generatorå‡½æ•°+thunkå‡½æ•° è®©å›è°ƒå‡½æ•°å®ç°åŒæ­¥è¿‡ç¨‹(demo4)
    - generator å‡½æ•°
      - æ˜¯åç¨‹åœ¨es6çš„å®ç°,åç¨‹ç®€å•æ¥è¯´å°±æ˜¯å¤šä¸ªçº¿ç¨‹ç›¸äº’åä½œ,å®Œæˆå¼‚æ­¥ä»»åŠ¡
      - æ•´ä¸ª generator å‡½æ•°å°±æ˜¯ä¸€ä¸ªå°è£…çš„å¼‚æ­¥å‡½æ•°,å¼‚æ­¥æ“ä½œéœ€è¦æš‚åœçš„åœ°æ–¹,éƒ½ç”¨yieldè¯­å¥æ³¨æ˜
    - thunkå‡½æ•°
      - è¯‘ä¸ºè½¬æ¢ç¨‹åº,ç®€å•æ¥è¯´å°±æ˜¯æŠŠå¸¦æœ‰å›è°ƒå‡½æ•°çš„å¤šå‚æ•°å‡½æ•°è½¬æ¢æˆåªæ¥æ”¶å›è°ƒå‡½æ•°çš„å•å‚æ•°ç‰ˆæœ¬
      - thunkå‡½æ•°çš„çœŸæ­£ä½œç”¨æ˜¯ç»Ÿä¸€å¤šå‚æ•°å‡½æ•°çš„è°ƒç”¨æ–¹å¼,åœ¨ next è°ƒç”¨æ—¶æŠŠæ§åˆ¶æƒè¿˜ç»™ generator
      - ä½¿ generator å‡½æ•°å¯ä»¥ä½¿ç”¨é€’å½’æ–¹å¼è‡ªå¯åŠ¨æµç¨‹
  - 4.é€šè¿‡ genertaorå‡½æ•° è®© Promiseå‡½æ•° å®ç°åŒæ­¥è¿‡ç¨‹(demo5)
  - 5.co å‡½æ•°åº“
    - æ¯æ¬¡æ‰§è¡Œ generator å‡½æ•°æ—¶è‡ªå·±å†™å¯åŠ¨å™¨æ¯”è¾ƒéº»çƒ¦
    - coå‡½æ•°åº“æ˜¯ä¸€ä¸ª generator å‡½æ•°çš„è‡ªå¯åŠ¨æ‰§è¡Œå™¨
    - ä½¿ç”¨æ¡ä»¶æ˜¯ generator å‡½æ•°çš„yieldå‘½ä»¤åé¢åªèƒ½æ˜¯ thunk å‡½æ•°æˆ– Promise å¯¹è±¡
    - coå‡½æ•°æ‰§è¡Œå®Œè¿”å›ä¸€ä¸ª Promise å¯¹è±¡
    - coå‡½æ•°åº“å…¶å®æ˜¯å°†ä¸Šé¢ä¸¤ç§æƒ…å†µåšäº†ç»¼åˆ
  - 6.async/await
    - ä¸ºè§£å†³ Promise çš„é—®é¢˜, async/await åœ¨ES7ä¸­è¢«æå‡ºæ¥,æ˜¯ç›®å‰ä¸ºæ­¢æœ€å¥½çš„è§£å†³æ–¹æ¡ˆ
    - æ˜¯ co åº“çš„å®˜æ–¹å®ç°,ä¹Ÿå¯ä»¥çœ‹ä½œè‡ªå¸¦å¯åŠ¨å™¨çš„ generator å‡½æ•°çš„è¯­æ³•ç³–(demo6/demo7)
    - ä¸åŒçš„æ˜¯ async/await åªæ”¯æŒ Promise å’ŒåŸå§‹ç±»å‹çš„å€¼,ä¸æ”¯æŒ thunk å‡½æ•°
  - 7.ä¸è®ºå“ªç§æ–¹å¼,éƒ½æ²¡æœ‰æ”¹å˜ JavaScriptå•çº¿ç¨‹,ä½¿ç”¨å›è°ƒå¤„ç†å¼‚æ­¥ä»»åŠ¡çš„æœ¬è´¨

  ```js
  // demo1.å›è°ƒå‡½æ•°
  const f1 = (param, callback) => {
    // æ‰§è¡ŒéCPUä»»åŠ¡(åœ¨æ­¤2så†…NodeJså¯ä»¥å¤„ç†åˆ«çš„è¯·æ±‚)
    setTimeout(() => callback(null, param), 2000);
  };

  // demo2.å›è°ƒåœ°ç‹±
  // è¿ç»­æ‰§è¡Œ3æ¬¡
  f1('123', (err, res) => {
    console.log(res);
    f1('456', (err, res) => {
      console.log(res);
      f1('789', (err, res) => {
        console.log(res);
      });
    });
  });

  // demo3.Promise
  const f2 = (param) => new Promise((resove, reject) => {
    f1(param, (err, res) => err ? reject(err) : resove(res));
  });
  // è¿ç»­æ‰§è¡Œ3æ¬¡
  f2('123')
    .then(res => {
      console.log(res);
      return f2('456');
    })
    .then(res => {
      console.log(res);
      return f2('789')
    })
    .then(res => {
      console.log(res);
    });

  // demo4.ä½¿ç”¨chunkå¼‚æ­¥æ”¹åŒæ­¥
  function f1(ms, callback) {
    setTimeout(() => {
      console.log(ms);
      callback();
    }, ms);
  }
  function chunk(fn, ...params) {
    return function(callback) {
      return fn(...params, callback)
    }
  }
  const list = [
    chunk(f1, 1000),
    chunk(f1, 1000),
    chunk(f1, 1000),
  ];
  function doTask(list) {
    if (list.length < 1) return;
    const v = list.pop();
    v(() => {
      doTask(list);
    });
  }
  doTask(list);


  // demo4.é€šè¿‡generator+chunkå‡½æ•° è®©å›è°ƒå‡½æ•° å®ç° async+await
  (() => {
    // thunkå‡½æ•°
    const chunk1 = function (...params) {
      return function (callback) {
        return f1(...params, callback);
      }
    };
    function* gen1() {
      let res = yield chunk1('123');
      console.log(res);

      res = yield chunk1('456');
      console.log(res);

      res = yield chunk1('789');
      console.log(res);
    }
    const run = generator => {
      const g1 = generator();
      const next = (err, res) => {
        // ä¿®æ”¹äº†ä¸Šæ¬¡yieldçš„è¿”å›å€¼
        const result = g1.next(res);
        if (result.done) return result.value;
        result.value(next);
      };
      next();
    };
    run(gen1);
  })();

  // demo5.é€šè¿‡generator è®© Promise å®ç° async+await
  (() => {
    function* gen1() {
      let res = yield f2('123');
      console.log(res);

      res = yield f2('456');
      console.log(res);

      res = yield f2('789');
      console.log(res);
    }
    const run = generator => {
      return new Promise((resolve, reject) => {
        const g1 = generator();
        const next = (err, res) => {
          // ä¿®æ”¹äº†ä¸Šæ¬¡yieldçš„è¿”å›å€¼
          const v = g1.next(res);
          if (v.done) return resolve(v.value);
          v.value.then(res => {
            return next(null, res);
          }, err => {
            return reject(err);
          });
        };
        next();
      });
    };
    run(gen1);
  })();

  // demo6.coåº“ + Promise å®ç° async/await
  co(function* () {
    let res = yield f2('123');
    console.log(res);

    res = yield f2('456);
    console.log(res);

    res = yield f2('789);
    console.log(res);
  });

  // demo7.async/await
  (async () => {
    let res = await f2('123);
    console.log(res);

    res = await f2('456);
    console.log(res);

    res = await f2('789);
    console.log(res);
  })();
  ```



### ä»£ç†(Proxy)ä¸åå°„(Reflect)
```js
// ç›®æ ‡å¯¹è±¡
const obj = {num: 123, arr: ['a', 'b']};
// Proxy(target:ç›®æ ‡å¯¹è±¡, handler:æ•è·å™¨)
const proxy1 = new Proxy(obj, {
  get: function(target, propKey, receiver) {
    // åå°„API
    return Reflect.get(...arguments);
  },
  set: function(target, propKey, value, receiver) {
    // åå°„API
    return Reflect.set(...arguments);
  },
});
```
- ES6 æ–°å¢çš„ä»£ç†å’Œåå°„ä¸ºå¼€å‘è€…æä¾›äº†æ‹¦æˆªå¹¶å‘åŸºæœ¬æ“ä½œåµŒå…¥é¢å¤–è¡Œä¸ºçš„èƒ½åŠ›
- å¼€å‘è€…ä½¿ç”¨å®ƒå¯ä»¥åˆ›å»ºå‡ºå„ç§ç¼–ç æ¨¡å¼ï¼Œå¦‚
  - è·Ÿè¸ªå±æ€§è®¿é—®ã€éšè—å±æ€§ã€é˜»æ­¢ä¿®æ”¹æˆ–åˆ é™¤å±æ€§
  - å‡½æ•°å‚æ•°éªŒè¯ã€æ„é€ å‡½æ•°å‚æ•°éªŒè¯
  - æ•°æ®ç»‘å®šã€å¯è§‚å¯Ÿå¯¹è±¡
- å¤„ç†ç¨‹åºå¯¹è±¡ä¸­æ‰€æœ‰å¯ä»¥æ•è·çš„æ–¹æ³•éƒ½æœ‰å¯¹è±¡çš„åå°„(Reflect)APIæ–¹æ³•
- æ•è·å™¨ä¸å˜å¼
  - ä½¿ç”¨æ•è·å™¨å‡ ä¹å¯ä»¥æ”¹å˜æ‰€æœ‰åŸºæœ¬æ–¹æ³•çš„è¡Œä¸ºï¼Œä½†ä¹Ÿæœ‰é™åˆ¶
  - æ•è·å¤„ç†ç¨‹åºçš„è¡Œä¸ºå¿…é¡»éµå¾ª"æ•è·å™¨ä¸å˜å¼"(trap invariant)
  - ä¾‹å¦‚ï¼šç›®æ ‡å¯¹è±¡æœ‰ä¸€ä¸ªä¸å¯é…ç½®ä¸”ä¸å¯å†™çš„æ•°æ®å±æ€§ï¼Œé‚£ä¹ˆåœ¨æ•è·å™¨è¿”å›ä¸€ä¸ªä¸è¯¥å±æ€§ä¸åŒçš„å€¼æ—¶ï¼Œä¼šæŠ›å‡º TypeError
  ```js
  const obj = {};
  Reflect.defineProperty(obj, 'num', {
    configurable: false,
    value: 123,
  });
  const proxy1 = new Proxy(obj, {
    get: function(target, propKey, receiver) {
      if (propKey == 'num') return 456;
      return Reflect.get(...arguments);
    },
  });
  proxy1.num;
  // Uncaught TypeError: 'get' on proxy:
  // property 'num' is a read-only and non-configurable data property
  // on the proxy target but the proxy did not return
  // its actual value (expected '123' but got '456')
  ```
- å¯æ’¤é”€ä»£ç†
  - Proxy çš„ revocable() æ–¹æ³•æ”¯æŒæ’¤é”€ä»£ç†å¯¹è±¡ä¸ç›®æ ‡å¯¹è±¡çš„å…³è”
  - æ’¤é”€ä»£ç†æ“ä½œæ˜¯ä¸å¯é€†çš„
  ```j
  const obj = {};
  const { proxy, revoke } = Proxy.revocable(obj, {
    get() { return '123'; }
  });
  proxy.a; // 123
  revoke();
  proxy.a; // Uncaught TypeError: Cannot perform 'get' on a proxy that has been revokeds
  ```
- æŸäº›æƒ…å†µä¸‹åº”è¯¥ä¼˜å…ˆä½¿ç”¨ åå°„ API
  - åå°„ API å¹¶ä¸é™äºæ•è·å¤„ç†ç¨‹åº
  - å¤§å¤šæ•°åå°„ API æ–¹æ³•åœ¨ Object ç±»å‹ä¸­æœ‰å¯¹è±¡çš„æ–¹æ³•
  - é€šå¸¸ï¼ŒObject ä¸Šçš„æ–¹æ³•é€‚ç”¨äºé€šç”¨ç¨‹åºï¼Œè€Œåå°„æ–¹æ³•é€‚ç”¨äºç»†ç²’åº¦çš„å¯¹è±¡æ§åˆ¶å’Œæ“ä½œ
  - å¾ˆå¤šåå°„æ–¹æ³•è¿”å› "çŠ¶æ€æ ‡è®°" çš„å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ„å›¾æ‰§è¡Œçš„æ“ä½œæ˜¯å¦æˆåŠŸ
    - è€Œ Object æ–¹æ³•ä¼šæŠ›å‡ºé”™è¯¯(å–å†³äºæ–¹æ³•)
  - ç”¨ä¸€ç­‰å‡½æ•°æ›¿ä»£æ“ä½œç¬¦
    - Reflect.get() å¯æ›¿ä»£å¯¹è±¡å±æ€§è®¿é—®æ“ä½œç¬¦
    - Reflect.set() å¯æ›¿ä»£=èµ‹å€¼æ“ä½œç¬¦
    - Reflect.has() å¯æ›¿ä»£ in æ“ä½œ æˆ– width()
    - Reflect.deleteProperty() å¯æ›¿ä»£ delete æ“ä½œç¬¦
    - Reflect.construct() å¯æ›¿ä»£ new æ“ä½œç¬¦
  - å®‰å…¨çš„ apply å‡½æ•°
    ```js
    const f1 = (...arr) => console.log(arr);
    // ä½†f1å¯èƒ½ä¹Ÿå®šä¹‰äº†applyå±æ€§(è™½ç„¶å¯èƒ½æ€§æå°)
    f1.call({}, 1, 2, 3);
    f1.apply({}, [1, 2, 3]);
    f1.bind({}, 1, 2, 3)();
    // ä¸ºç»•è¿‡è¿™ä¸ªé—®é¢˜,å¯ä»¥ä½¿ç”¨å®šä¹‰åœ¨ Function åŸå‹ä¸Šçš„ apply æ–¹æ³•
    Function.prototype.call.call(f1, {}, 1, 2, 3);
    Function.prototype.apply.call(f1, {}, [1, 2, 3]);
    Function.prototype.bind.call(f1, {}, 1, 2, 3);
    // ä½¿ç”¨ Reflct.apply å¯ç®€åŒ–
    Reflect.apply(f1, {}, [1, 2, 3]);
    ```
- ä»£ç†çš„é—®é¢˜ä¸ä¸è¶³
  - ä»£ç†ä¸­çš„ this
    - æ–¹æ³•ä¸­çš„ this é€šå¸¸æŒ‡å‘è°ƒç”¨è¿™ä¸ªæ–¹æ³•çš„å¯¹è±¡
    - ä»£ç†æ‰§è¡Œç›®æ ‡æœ‰ this æ“ä½œçš„æ–¹æ³•, thisä¼šæŒ‡å‘ ä»£ç†å¯¹è±¡ è€Œé ç›®æ ‡å¯¹è±¡
  - ä»£ç†ä¸å†…éƒ¨æ§½ä½
    - æœ‰äº› ECMAScript å†…ç½®ç±»å‹å¯èƒ½ä¼šä¾èµ–ä»£ç†æ— æ³•æ§åˆ¶çš„æœºåˆ¶
    - å¯¼è‡´åœ¨ä»£ç†ä¸Šè°ƒç”¨æŸäº›æ–¹æ³•ä¼šå‡ºé”™
    ```js
    const proxy = new Proxy(new Date(), {});
    proxy.getDate(); // Uncaught TypeError: this is not a Date object.
    ```
- ä»£ç†å¯ä»¥æ•è·13ç§ä¸åŒçš„åŸºæœ¬æ“ä½œ
  - è¿™äº›æ“ä½œæœ‰å„è‡ªçš„åå°„APIæ–¹æ³•ã€å‚æ•°ã€å…³è” ECMAScriptæ“ä½œã€ä¸å˜å¼
  - 1.get(target:ç›®æ ‡å¯¹è±¡, property:å±æ€§, receiver:ä»£ç†å¯¹è±¡)
    - è¿”å›å€¼ï¼šæ— é™åˆ¶
    - æ‹¦æˆªçš„æ“ä½œï¼š
      - `proxy.s1`
      - `proxy['s1']`
      - `(Object.create(proxy)).s1`
      - `Reflect.get(proxy, 's1')`
  - 2.set(target:ç›®æ ‡å¯¹è±¡, property:å±æ€§, value:å±æ€§å€¼, receiver:ä»£ç†å¯¹è±¡)
    - è¿”å›å€¼ï¼štrueè¡¨ç¤ºæˆåŠŸ; falseè¡¨ç¤ºå¤±è´¥
    - æ‹¦æˆªçš„æ“ä½œï¼š
      - `proxy.s1 = 1;`
      - `proxy['s1'] = 1;`
      - `(Object.create(proxy)).s1 = 1;`
      - `Reflect.set(proxy, 's1', 1);`
  - 3.has(target:ç›®æ ‡å¯¹è±¡, property:å±æ€§)
    - è¿”å›å€¼ï¼štrueè¡¨ç¤ºå­˜åœ¨; falseè¡¨ç¤ºä¸å­˜åœ¨
    - æ‹¦æˆªçš„æ“ä½œ
      - `'s1' in proxy`
      - `'s1' in Object.create(proxy)`
      - `with(proxy) { s1; }` // has('s1')ã€get(Symbol(Symbol.unscopables))ã€get('s1')
      - `Reflect.has(proxy, 's1')`
  - 4.defineProperty(target:ç›®æ ‡å¯¹è±¡, property:å±æ€§, attributes:é…ç½®é¡¹)
    - è¿”å›å€¼ï¼štrueè¡¨ç¤ºæˆåŠŸ; falseè¡¨ç¤ºå¤±è´¥
    - æ‹¦æˆªçš„æ“ä½œ
      - `Object.defineProperty(proxy, 's1', { value: 123 })`
      - `Reflect.defineProperty(proxy, 's1', { value: 123 })`
  - 5.getOwnPropertyDescriptor(target:ç›®æ ‡å¯¹è±¡, property:å±æ€§)
    - è¿”å›å€¼ï¼šå­˜åœ¨è¿”å›å¯¹è±¡ï¼›ä¸å­˜åœ¨è¿”å› undefined
    - æ‹¦æˆªæ“ä½œ
      - `Object.getOwnPropertyDescriptor(proxy, 's1')`
      - `Reflect.getOwnPropertyDescriptor(proxy, 's1')`
  - 6.deleteProperty(target:ç›®æ ‡å¯¹è±¡, property:å±æ€§)
    - è¿”å›å€¼ï¼štrueè¡¨ç¤ºåˆ é™¤æˆåŠŸ, falseè¡¨ç¤ºåˆ é™¤å¤±è´¥
    - æ‹¦æˆªæ“ä½œ
      - `delete proxy.s1`
      - `delete proxy['s1']`
      - `Reflect.deleteProperty(proxy, 's1')`
  - 7.ownKeys(target:ç›®æ ‡å¯¹è±¡)
    - è¿”å›åŒ…å« å­—ç¬¦ä¸²æˆ–ç¬¦å· çš„å¯æšä¸¾å¯¹è±¡
    - æ‹¦æˆªæ“ä½œ
      - `Object.getOwnPropertyNames(proxy)`
      - `Object.getOwnPropertySymbols(proxy)`
      - `Object.keys(proxy)`
      - `Reflect.ownKeys(proxy)`
  - 8.getPrototypeOf(target:ç›®æ ‡å¯¹è±¡)
    - è¿”å›å¯¹è±¡æˆ–null
    - æ‹¦æˆªæ“ä½œ
      - `Object.getPrototypeOf(proxy)`
      - `Reflect.getPrototypeOf(proxy)`
      - `proxy.__proto__`
      - `Object.prototype.isPrototypeOf(proxy)`
      - `proxy instanceof Object`
  - 9.setPrototypeOf(target:ç›®æ ‡å¯¹è±¡, handle:æ›¿ä»£åŸå‹)
    - è¿”å› true è¡¨ç¤ºæˆåŠŸ, false è¡¨ç¤ºå¤±è´¥
    - æ‹¦æˆªæ“ä½œ
      - `Object.setPrototypeOf(proxy, proto)`
      - `Reflect.setPrototypeOf(proxy, proto)`
  - 10.isExtensible(target:ç›®æ ‡å¯¹è±¡)
    - è¿”å› true è¡¨ç¤ºå¯æ‰©å±•
    - æ‹¦æˆªæ“ä½œ
      - `Object.isExtensible(proxy)`
      - `Reflect.isExtensible(proxy)`
  - 12.preventExtensions(target:ç›®æ ‡å¯¹è±¡)
    - è¿”å› true è¡¨ç¤ºå·²ç»ä¸å¯æ‰©å±•
    - æ‹¦æˆªæ“ä½œ
      - `Object.preventExtensions(proxy)`
      - `Reflect.preventExtensions(proxy)`
  - 13.apply(target:ç›®æ ‡å¯¹è±¡, thisArg:è°ƒç”¨å‡½æ•°æ—¶çš„thiså‚æ•°, argumentsList:è°ƒç”¨å‡½æ•°æ—¶çš„å‚æ•°åˆ—è¡¨)
    - è¿”å›å€¼æ— é™åˆ¶
    - æ‹¦æˆªæ“ä½œ
      - `proxy.apply({}, ['abc'])`
      - `proxy.call({}, 'abc')`
      - `proxy.bind({}, 'abc')()`
      - `Reflect.apply(proxy, {}, ['abc'])`
  - 14.construct(target:ç›®æ ‡å¯¹è±¡, argArray:ä¼ ç»™æ„é€ å‡½æ•°çš„å‚æ•°, newTarget:æœ€åˆè¢«è°ƒç”¨çš„æ„é€ å‡½æ•°)
    - è¿”å›å€¼å¿…é¡»è¿”å›ä¸€ä¸ªå¯¹è±¡
    - æ‹¦æˆªæ“ä½œ
      - `new proxy('abc')`
      - `Reflect.construct(proxy, ['abc'])`


### å¯¹è±¡:å›½é™…åŒ–
Intl
Intl.Collator
Intl.DateTimeFormat
Intl.ListFormat
Intl.NumberFormat
Intl.PluralRules
Intl.RelativeTimeFormat
Intl.Locale

### å¯¹è±¡:WebAssembly
WebAssembly
WebAssembly.Module
WebAssembly.Instance
WebAssembly.Memory
WebAssembly.Table
WebAssembly.CompileError
WebAssembly.LinkError (en-US)
WebAssembly.RuntimeError