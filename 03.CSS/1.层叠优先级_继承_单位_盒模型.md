### 层叠优先级
- 层叠样式权重(权重从高到底)
  - !important
  - 内联样式
  - 优先级标记(ID个数,类个数,标签个数): 个数多 > 个数少
  - 源码顺序: 出现的晚 > 出现的早
  - 来源: 用户样式 > 用户代理样式(浏览器默认样式)

### 继承
- 如果一个元素某个属性没有层叠值,则可能会继承某个祖先元素的值
- 只有特定的一些属性才能被继承,通常是我们希望被继承的
  - 文本相关的属性: color、font、line-height ...
  - 列表属性: list-style ...
  - 表格的边框属性: border-collapse、border-spacing
- 继承顺序: 行内样式 > 层叠值 > 继承值(祖先样式+用户代理样式)

### inherit / initial
- 这两个特殊值可以赋值给任意属性
- inherit: 该元素继承父元素的值,可以强制继承一个通常不会被继承的属性
- initial: 该元素使用浏览器默认样式

### 相对单位
- CSS支持的几种绝对长度单位:
  - 1in(英寸)=25.4mm(毫米)=2.54cn(厘米)=6pc(派卡)=72pt(点)=96px
  - CSS像素并不严格等于显示器的像素,但 96px 通常等于一个物理英寸的大小
- 相对长度单位: em
  - em适合基于特定的字号进行排版,1em 等于当前元素的字号
  - em的好处是只需要改变字号就能整体缩放元素
  - 问题:多级嵌套会造成 em 越来越小
    ```html
    <div class="t1"><div class="t2">123456</div></div>
    <style>
      html { font-size: 12px; }
      .t1 { font-size: 2em; /* 24px */ }
      .t2 { font-size: 1em; /* 24px */ padding-left: 1em; /* 24px */ }
    </style>
    ```
- 相对长度单位: rem
  - rem 是 root em 的缩写, rem不是相对于当前元素, 而是相对于根元素的单位
  - 不管在文档的什么位置: 1.2rem 都等于 1.2 乘以 根元素的字号
    ```html
    <div class="t1"><div class="t2">123456</div></div>
    <style>
      html { font-size: 12px; }
      .t1 { font-size: 2rem; /* 24px */ }
      .t2 { font-size: 2rem; /* 24px */ padding-left: 2rem; /* 24px */ }
    </style>
    ```
- 相对长度单位: vh/vw/vmin/vmax
  - 视口: 浏览器窗口里网页可见部分的边框区域
  - vh: 视口高度的 1/100
  - vw: 视口宽度的 1/100
  - vmin: 视口宽高较小的 1/100
  - vmax: 视口宽高较大的 1/100
  - 视口相对长度非常适合展示一个填满屏幕的大图
  - 结合 calc 使用
    - 慢慢缩放浏览器,字体会平滑地缩放
    - 0.5em保证了最小字号, 1vw则确保字体会随着视口缩放
    - 不用通过媒体查询来实现响应式策略,省掉了几个断点
    ```css
    :root { font-size: calc(0.5em + 1vw); }
    ```

### 自定义属性(即CSS变量)
- 变量名前面必须有2个连字符(--),用来跟CSS属性区分
- var(值, 备用值)
```html
<style>
  html { --text-color: green; }
  .txt { color: var(--text-color); }
  .red { --text-color: red; }
</style>
<div class="txt">绿色</div>
<div class="txt red">红色</div>
<div class="txt yellow">黄色</div>
<script>
  document.querySelector('.yellow').style.setProperty('--text-color', 'yellow');
</script>
```

### 盒模型
- box-sizing: content-box; 默认值,宽高会包含内容
- box-sizing: border-box; 宽高会包含内容、内边距、边框
- 全局设置 border-box
  - 页面上所有元素与所有伪元素
  ```css
  *, ::before, ::after { box-sizing: border-box; }
  ```
  - 但如果网页中使用了带样式的第三方组件,可能会破坏其布局
    - 盒模型通常不会被继承,但使用 inherit 关键字可以强制继承
    ```css
    :root { box-sizing: border-box; }
    *, ::before, ::after { box-sizing: inherit; }
    .third-component { box-sizing: content-box; }
    ```

### 负边距
- 在元素的左边或顶部设置负边距: 元素会向左或向上移动,导致元素与它前面的元素重叠
- 在元素的右边或底部设置负边距: 并不会移动元素,而是将它右侧或底部的元素拉过来重叠

### 外边距折叠
- 所有相邻的顶部和底部外边距会折叠到一起(只有上下外边距会产生折叠)
- 页面中空的、无样式的div(没有高度、边框、内边距),它自己的顶部和底部外边距也会折叠
- 防止外边距折叠的方法:
  - 对容器使用 overflow: auto, 副作用最小
  - 如果容器为浮动元素、内联块、绝对定位、固定定位
  - 当使用弹性布局或网格布局,布局内的元素之间不会发生折叠
  - 外边距改为边框或者内边距